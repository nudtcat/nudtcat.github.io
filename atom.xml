<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å–œæ¬¢å†’é™©æ¢ç´¢çš„ç¨‹åºçŒ¿</title>
  <subtitle>å–œæ¬¢å†’é™©æ¢ç´¢çš„ç¨‹åºçŒ¿</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://blog.nudtcat.org/"/>
  <updated>2016-12-28T06:31:45.000Z</updated>
  <id>http://blog.nudtcat.org/</id>
  
  <author>
    <name>nudtcat</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>PHPè¿è¡Œæ¨¡å¼ä¸HTTP_PROXYæ¼æ´åˆ†æ</title>
    <link href="http://blog.nudtcat.org/WebSecurity/PHP%E8%BF%90%E8%A1%8C%E6%A8%A1%E5%BC%8F%E4%B8%8EHTTP-PROXY%E6%BC%8F%E6%B4%9E%E5%88%86%E6%9E%90/"/>
    <id>http://blog.nudtcat.org/WebSecurity/PHPè¿è¡Œæ¨¡å¼ä¸HTTP-PROXYæ¼æ´åˆ†æ/</id>
    <published>2016-12-28T05:30:33.000Z</published>
    <updated>2016-12-28T06:31:45.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0x00-PHPçš„è¿è¡Œæ¨¡å¼"><a href="#0x00-PHPçš„è¿è¡Œæ¨¡å¼" class="headerlink" title="0x00 PHPçš„è¿è¡Œæ¨¡å¼"></a>0x00 PHPçš„è¿è¡Œæ¨¡å¼</h2><p>PHPæ˜¯ä¸€ä¸ªphpè„šæœ¬çš„è§£é‡Šå™¨ï¼Œåœ¨ä¸åŒçš„åœºåˆä¸‹å®ƒä»¥ä¸åŒçš„åœºåˆè¿è¡Œã€‚PHPæœ‰ä¸ªSAPI (Server API) æ¨¡å—æ¥å¤„ç†ä¸åŒçš„è°ƒç”¨ã€‚<br>å¸¸è§çš„è°ƒç”¨æ–¹æ³•æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<ul>
<li>æ¨¡å—åŠ è½½æ–¹å¼</li>
<li>CGIæ¨¡å¼</li>
<li>FastCGIæ¨¡å¼</li>
<li>ISAPIæ–¹å¼</li>
<li>CLIæ–¹å¼</li>
</ul>
<p>ä¸‹é¢è¯¦ç»†ä»‹ç»ä¸€ä¸‹<br><a id="more"></a><br>æ¨¡å—åŠ è½½æ–¹å¼æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„åŠ è½½æ–¹å¼ï¼Œubuntuä¸‹libapache2-mod-php5å°±æ˜¯é€‚é…Apacheçš„PHP5çš„æ¨¡å—ã€‚è¿™ç§æƒ…å†µä¸‹ï¼ŒPHPé›†æˆåœ¨æœåŠ¡å™¨ä¸­ï¼Œä»¥åŒä¸€ä¸ªè¿›ç¨‹è¿è¡Œã€‚</p>
<p>CGIæ¨¡å¼æ¯”è¾ƒå°‘è§ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½ä¼šåˆ›å»ºCGIçš„å­çº¿ç¨‹ï¼Œå¤„ç†å®Œphpè„šæœ¬åæŠŠç»“æœäº¤å›ç»™HTTPæœåŠ¡å™¨ã€‚</p>
<p>FastCGIå…‹æœäº†CGIçº¿ç¨‹åˆ›å»ºå¼€é”€å¤§çš„ç¼ºç‚¹ï¼Œç±»ä¼¼äºå¸¸é©»å†…å­˜çš„CGIï¼Œä½¿ç”¨è¿›ç¨‹æ± æ¥ç»´æŠ¤CGIè¿›ç¨‹ï¼Œæä¾›è§£é‡ŠPHPçš„æœåŠ¡ã€‚PHPä½¿ç”¨php-fpmï¼Œå³PHP FastCGI Process Managerç®¡ç†è¿›ç¨‹ã€‚</p>
<p>ISAPIæ–¹å¼æ˜¯Windowsä¸‹Apacheä½¿ç”¨çš„æ–¹å¼ã€‚</p>
<p>CLIæ–¹å¼æ˜¯ä½¿ç”¨å‘½ä»¤è¡Œè°ƒç”¨PHPä½¿ç”¨çš„æ–¹å¼ã€‚</p>
<p>å¯¹è¿™æ–¹é¢æ¯”è¾ƒé™Œç”Ÿçš„åŒå­¦å¯ä»¥å‚çœ‹<a href="http://article.gitos.cn/2015/Aurthur/PHP-Mod-PHP-And-Fast-CGI-Explain.html" target="_blank" rel="external">PHPå¡«å‘è®°ä¹‹FastCGIä¸mod_phpè¯¦è§£</a></p>
<h2 id="0x01HTTP-PROXYæ¼æ´"><a href="#0x01HTTP-PROXYæ¼æ´" class="headerlink" title="0x01HTTP_PROXYæ¼æ´"></a>0x01HTTP_PROXYæ¼æ´</h2><p>è¿™ä¸ªæ¼æ´çš„èƒŒæ™¯æ˜¯æ ¹æ®RFCæ–‡æ¡£ï¼Œåœ¨CGIæ¨¡å¼ä¸­ï¼Œä¼šæŠŠHTTPè¯·æ±‚ä¸­çš„å¤´éƒ¨ï¼ŒåŠ ä¸ŠHTTP_çš„å‰ç¼€ï¼Œæ³¨å†Œåˆ°ç¯å¢ƒå˜é‡ä¸­ã€‚</p>
<p>å¦å¤–ï¼Œä¸€ä¸ªå¸¸ç”¨çš„è®¾ç½®ä»£ç†æ–¹æ³•æ˜¯ï¼Œåœ¨ç¯å¢ƒå˜é‡ä¸­è®¾ç½®http_proxyï¼Œä¾‹å¦‚wgetå‘½ä»¤çš„è®¾ç½®ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">export</span> http_proxy=127.0.0.1:8080 &amp;&amp; wget http://blog.nudtcat.org</div></pre></td></tr></table></figure>
<p>å¦‚æœwgetç»„ä»¶åœ¨è·å–ç¯å¢ƒå˜é‡ä¸­çš„proxyçš„æ—¶å€™ç”¨çš„æ˜¯HTTP_PROXYï¼Œè€Œä¸”æ”»å‡»è€…åœ¨å‘é€è¯·æ±‚çš„æ—¶å€™åœ¨HTTPå¤´éƒ¨ä¸­åŠ å…¥äº†PROXYï¼Œé‚£ä¹ˆè¿™ä¸ªPROXYä¼šåŠ ä¸ŠHTTP_çš„å‰ç¼€ï¼ŒæŒ‡å®šä»£ç†ï¼Œäºæ˜¯ï¼Œä»æœåŠ¡å™¨å‘å‡ºçš„è¯·æ±‚å°±ä¼šä»è¿™ä¸ª<br>ä»£ç†é€šè¿‡ã€‚è€ŒProxyçš„ç¯å¢ƒå˜é‡ä½¿ç”¨å¤§å†™è¿˜æ˜¯å°å†™æ²¡æœ‰è§„å®šã€‚</p>
<h2 id="0x02-å½±å“èŒƒå›´"><a href="#0x02-å½±å“èŒƒå›´" class="headerlink" title="0x02 å½±å“èŒƒå›´"></a>0x02 å½±å“èŒƒå›´</h2><p>è¿™ä¸ªæ¼æ´çš„å½±å“èŒƒå›´æœ‰é™ï¼Œè¦æ±‚PHPä½¿ç”¨CGIæˆ–è€…FastCGIæ–¹å¼å¯åŠ¨ï¼ŒæŸä¸ªç»„ä»¶ä½¿ç”¨çš„HTTP_PROXYæ˜¯å¤§å†™çš„ï¼Œè€Œä¸”æœåŠ¡å™¨å¾—å‘å¤–å‘é€HTTPè¯·æ±‚ã€‚<br>å¹¸å¥½wgetå’Œcurléƒ½æ˜¯ä½¿ç”¨çš„â€http_proxyâ€ï¼Œä¸ä¼šå—å½±å“ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;0x00-PHPçš„è¿è¡Œæ¨¡å¼&quot;&gt;&lt;a href=&quot;#0x00-PHPçš„è¿è¡Œæ¨¡å¼&quot; class=&quot;headerlink&quot; title=&quot;0x00 PHPçš„è¿è¡Œæ¨¡å¼&quot;&gt;&lt;/a&gt;0x00 PHPçš„è¿è¡Œæ¨¡å¼&lt;/h2&gt;&lt;p&gt;PHPæ˜¯ä¸€ä¸ªphpè„šæœ¬çš„è§£é‡Šå™¨ï¼Œåœ¨ä¸åŒçš„åœºåˆä¸‹å®ƒä»¥ä¸åŒçš„åœºåˆè¿è¡Œã€‚PHPæœ‰ä¸ªSAPI (Server API) æ¨¡å—æ¥å¤„ç†ä¸åŒçš„è°ƒç”¨ã€‚&lt;br&gt;å¸¸è§çš„è°ƒç”¨æ–¹æ³•æœ‰ä»¥ä¸‹å‡ ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¨¡å—åŠ è½½æ–¹å¼&lt;/li&gt;
&lt;li&gt;CGIæ¨¡å¼&lt;/li&gt;
&lt;li&gt;FastCGIæ¨¡å¼&lt;/li&gt;
&lt;li&gt;ISAPIæ–¹å¼&lt;/li&gt;
&lt;li&gt;CLIæ–¹å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸‹é¢è¯¦ç»†ä»‹ç»ä¸€ä¸‹&lt;br&gt;
    
    </summary>
    
      <category term="Webå®‰å…¨" scheme="http://blog.nudtcat.org/categories/WebSecurity/"/>
    
    
      <category term="PHPæ¼æ´" scheme="http://blog.nudtcat.org/tags/PHP%E6%BC%8F%E6%B4%9E/"/>
    
      <category term="Webå®‰å…¨" scheme="http://blog.nudtcat.org/tags/Web%E5%AE%89%E5%85%A8/"/>
    
  </entry>
  
  <entry>
    <title>scannerç»„ä»¶</title>
    <link href="http://blog.nudtcat.org/WebSecurity/scanner%E7%BB%84%E4%BB%B6/"/>
    <id>http://blog.nudtcat.org/WebSecurity/scannerç»„ä»¶/</id>
    <published>2016-12-19T09:00:45.000Z</published>
    <updated>2016-12-19T09:06:18.000Z</updated>
    
    <content type="html"><![CDATA[<p>æ‰«æå™¨åŸºæœ¬ç»„ä»¶ã€‚æ¯ä¸ªæ–‡ä»¶å¯ä»¥å•ç‹¬ä½¿ç”¨ã€‚<a href="https://github.com/nudtcat/scanner" target="_blank" rel="external">githubåœ°å€</a></p>
<p>1-spider_domain.pyç”¨æ¥çˆ¬å–ä¸€ä¸ªç½‘ç«™ä¸Šæ‰€æœ‰é“¾æ¥çš„åŸŸåã€‚-uæŒ‡å®šurlï¼Œ-dæŒ‡å®šçˆ¬å–æ·±åº¦ã€‚<br><a id="more"></a><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">usage: 1-spider_domain.py [-h] [-u] [<span class="_">-d</span>]</div><div class="line"></div><div class="line">Spider_domain V1.0 to spider a website to get all domains</div><div class="line"></div><div class="line">optional arguments:</div><div class="line">  -h, --help    show this <span class="built_in">help</span> message and <span class="built_in">exit</span></div><div class="line">  -u , --url    url</div><div class="line">  <span class="_">-d</span> , --deep   deep to spider</div></pre></td></tr></table></figure></p>
<p>2-domain_to_ip.pyæ¥è·å–åŸŸåå¯¹åº”çš„ipåœ°å€ï¼Œå¹¶ä¸”æŠŠipåœ°å€æ‰©å±•ä¸€ä¸ªå­ç½‘ã€‚ä¾‹å¦‚çˆ¬å–åˆ°1.1.1.1å’Œ1.1.1.254,åˆ™1.1.1.0/24éƒ½æœ‰å¯èƒ½æ˜¯è¿™ä¸ªä¼ä¸šçš„ipæ®µã€‚-så¯ä»¥åˆ¶å®šä¸¤ä¸ªipè·ç¦»å¤šå°‘å¯ä»¥å°†è¿™ä¸­é—´çš„ipå…¨éƒ¨çœ‹ä½œipæ®µã€‚ä¸º0-3ï¼Œ0ä¸ºæœ€å°ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">usage: 2-domain_to_ip.py [-h] [-i] [-o] [<span class="_">-s</span>]</div><div class="line"></div><div class="line">Domain_to_ip v1.0 to query domain name to ip address and format ip address</div><div class="line"></div><div class="line">optional arguments:</div><div class="line">  -h, --help     show this <span class="built_in">help</span> message and <span class="built_in">exit</span></div><div class="line">  -i , --input   input file</div><div class="line">  -o , --out     result out file</div><div class="line">  <span class="_">-s</span> , --scope   format scope,from 0 to 3,0 means a small scope</div></pre></td></tr></table></figure></p>
<p>3-zmap_live.pyç”¨æ¥ä½¿ç”¨zmapæ‰«æå­˜æ´»çš„ipã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">usage: 3-zmap_live.py [-h] [-i] [-o] [-t]</div><div class="line"></div><div class="line">Zmap_live V1.0 to scan <span class="keyword">for</span> live hosts</div><div class="line"></div><div class="line">optional arguments:</div><div class="line">  -h, --help     show this <span class="built_in">help</span> message and <span class="built_in">exit</span></div><div class="line">  -i , --input   input file</div><div class="line">  -o , --out     result out file</div><div class="line">  -t , --times   Retry <span class="built_in">times</span> <span class="keyword">in</span> <span class="keyword">case</span> zmap scan failed!</div></pre></td></tr></table></figure></p>
<p>3-zmap_port.pyç”¨æ¥æ‰«æå¼€æ”¾çš„ç«¯å£ã€‚-lèŒƒå›´ä¸º1-3ï¼Œä»£è¡¨æ‰«æå¼€æ”¾ç«¯å£çš„èŒƒå›´å¤§å°ï¼Œ1ä¸ºæœ€å°ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">usage: 3-zmap_port.py [-h] [-i] [-o] [-t] [<span class="_">-l</span>]</div><div class="line"></div><div class="line">Zmap_port V1.0 to scan <span class="keyword">for</span> open port</div><div class="line"></div><div class="line">optional arguments:</div><div class="line">  -h, --help     show this <span class="built_in">help</span> message and <span class="built_in">exit</span></div><div class="line">  -i , --input   input file</div><div class="line">  -o , --out     result out file</div><div class="line">  -t , --times   Retry <span class="built_in">times</span> <span class="keyword">in</span> <span class="keyword">case</span> zmap scan failed!</div><div class="line">  <span class="_">-l</span> , --level   level of ports to scan,1-3,1 means the least</div></pre></td></tr></table></figure></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ‰«æå™¨åŸºæœ¬ç»„ä»¶ã€‚æ¯ä¸ªæ–‡ä»¶å¯ä»¥å•ç‹¬ä½¿ç”¨ã€‚&lt;a href=&quot;https://github.com/nudtcat/scanner&quot;&gt;githubåœ°å€&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;1-spider_domain.pyç”¨æ¥çˆ¬å–ä¸€ä¸ªç½‘ç«™ä¸Šæ‰€æœ‰é“¾æ¥çš„åŸŸåã€‚-uæŒ‡å®šurlï¼Œ-dæŒ‡å®šçˆ¬å–æ·±åº¦ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="Webå®‰å…¨" scheme="http://blog.nudtcat.org/categories/WebSecurity/"/>
    
    
      <category term="æ‰«æå™¨" scheme="http://blog.nudtcat.org/tags/%E6%89%AB%E6%8F%8F%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>é›†è®­æœ‰æ„Ÿ</title>
    <link href="http://blog.nudtcat.org/Chat/%E9%9B%86%E8%AE%AD%E6%9C%89%E6%84%9F/"/>
    <id>http://blog.nudtcat.org/Chat/é›†è®­æœ‰æ„Ÿ/</id>
    <published>2016-12-19T08:04:57.000Z</published>
    <updated>2016-12-19T09:13:17.000Z</updated>
    
    <content type="html"><![CDATA[<p>å›å»è®­ç»ƒäº†ä¸€ä¸ªæœˆï¼Œå¤©å¤©ç´¯æˆåºŸç‹—ğŸ¶ã€‚åˆå›æ¥ä¼‘æ•´å‡ å¤©ï¼Œæœ‰æ„Ÿã€‚<br><a id="more"></a></p>
<ul>
<li>æ¸©æ°´ç…®é’è›™ï¼Œç”Ÿæ´»å°±æ˜¯æ¸©æ°´ï¼Œæ— è®ºæ˜¯æ²¡æœ‰å‹åŠ›çš„ï¼Œè¿˜æ˜¯é«˜å‹åŠ›çš„ã€‚</li>
<li>è¡ŒåŠ¨ï¼Œæ°¸è¿œä¸åœæ­¢è¡ŒåŠ¨ã€‚æ€è€ƒåœ¨è¡ŒåŠ¨é€”ä¸­çš„ã€‚</li>
<li>å‹¤äºæˆ˜æœ¯ï¼Œæ˜äºæˆ˜ç•¥ã€‚</li>
<li>è‡ªæˆ‘é©±åŠ¨ã€‚</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å›å»è®­ç»ƒäº†ä¸€ä¸ªæœˆï¼Œå¤©å¤©ç´¯æˆåºŸç‹—ğŸ¶ã€‚åˆå›æ¥ä¼‘æ•´å‡ å¤©ï¼Œæœ‰æ„Ÿã€‚&lt;br&gt;
    
    </summary>
    
      <category term="æ‚è°ˆ" scheme="http://blog.nudtcat.org/categories/Chat/"/>
    
    
      <category term="å¤§å­¦ç”Ÿæ´»" scheme="http://blog.nudtcat.org/tags/%E5%A4%A7%E5%AD%A6%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>é­”æœ¯æ–¹æ³•,CVE-2016-7124ä¸ååºåˆ—åŒ–æ¼æ´</title>
    <link href="http://blog.nudtcat.org/WebSecurity/%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95-CVE-2016-7124%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E/"/>
    <id>http://blog.nudtcat.org/WebSecurity/é­”æœ¯æ–¹æ³•-CVE-2016-7124ä¸ååºåˆ—åŒ–æ¼æ´/</id>
    <published>2016-11-11T12:15:59.000Z</published>
    <updated>2016-11-11T13:14:46.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0x01-é­”æ³•æ–¹æ³•"><a href="#0x01-é­”æ³•æ–¹æ³•" class="headerlink" title="0x01 é­”æ³•æ–¹æ³•"></a>0x01 é­”æ³•æ–¹æ³•</h2><p>é­”æ³•æ–¹æ³•ï¼Œæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ–¹æ³•ï¼Œå¦‚æœå®šä¹‰äº†ï¼Œå®ƒä¼šåœ¨è°ƒç”¨ä¸€äº›æ–¹æ³•ä¹‹å‰è‡ªåŠ¨è¿è¡Œã€‚åœ¨å¾ˆå¤šè¯­è¨€ä¸­éƒ½æœ‰é­”æ³•æ–¹æ³•ï¼Œä¾‹å¦‚ï¼Œåœ¨phpä¸­ï¼Œå¦‚æœåœ¨ä¸€ä¸ªç±»ä¸­å®šä¹‰äº†__constructæ–¹æ³•ï¼Œåœ¨è¿™ä¸ªç±»åˆå§‹åŒ–æ—¶ï¼Œå®ƒä¼šè¢«è‡ªåŠ¨è°ƒç”¨ã€‚__sleep()æ–¹æ³•ä¼šåœ¨serialize()æ–¹æ³•è°ƒç”¨ä¹‹å‰è°ƒç”¨ï¼Œ__wakeupæ–¹æ³•ä¼šåœ¨è°ƒç”¨unserialize()æ–¹æ³•ä¹‹å‰è°ƒç”¨ï¼Œè¿™äº›éƒ½æ˜¯phpè‡ªè¡Œè§„å®šçš„ï¼Œå¼€å‘è€…å¿…é¡»ä½¿ç”¨è§„å®šçš„æ–¹æ³•åï¼Œæ‰èƒ½è§¦å‘é­”æ³•æ–¹æ³•çš„è‡ªåŠ¨è¿è¡Œã€‚åœ¨Pythonä¸­ï¼Œé­”æ³•æ–¹æ³•æ›´åŠ å¸¸è§ï¼Œä¾‹å¦‚__init__æ–¹æ³•ç­‰ã€‚<br><a id="more"></a></p>
<h2 id="0x02-åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"><a href="#0x02-åºåˆ—åŒ–ä¸ååºåˆ—åŒ–" class="headerlink" title="0x02 åºåˆ—åŒ–ä¸ååºåˆ—åŒ–"></a>0x02 åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</h2><p>åºåˆ—åŒ–æ˜¯æŒ‡æŠŠé¢å‘å¯¹è±¡çš„å¯¹è±¡å˜æˆäºŒè¿›åˆ¶çš„èƒ½æŒç»­å­˜å‚¨çš„æ–‡ä»¶ã€‚ååºåˆ—åŒ–åˆ™æ˜¯ç›¸åï¼Œå°†äºŒè¿›åˆ¶çš„æ–‡ä»¶è½¬æ¢æˆå¯¹è±¡ï¼Œä½¿ä»–æ´»èµ·æ¥ã€‚åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ä¸€èˆ¬æˆå¯¹çš„ï¼Œä¾‹å¦‚ï¼Œåœ¨Pythonä¸­æœ‰å¥½å‡ ç§åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ–¹æ³•ï¼Œpickleå®šä¹‰äº†ä¸€å¯¹ï¼Œä½¿ç”¨pickleåºåˆ—åŒ–åçš„å¿…éœ€ä½¿ç”¨pickleååºåˆ—åŒ–ã€‚phpä¸­ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨serialize()å’Œunserialize()æ–¹æ³•æ¥åºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€‚å› ä¸ºä¸‹é¢è¦è¯´çš„æ¼æ´æ˜¯å…³äºphpçš„ï¼Œä¸‹é¢è¯¦ç»†è¯´ä¸€ä¸‹phpçš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sample1</span></span>&#123;</div><div class="line">    <span class="keyword">public</span> $a=<span class="string">"Sample_str"</span>;</div><div class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">say</span><span class="params">()</span></span>&#123;</div><div class="line">        <span class="keyword">echo</span> $a;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sample2</span></span>&#123;</div><div class="line">    <span class="keyword">public</span> $a=<span class="string">"Sample_str"</span>;</div><div class="line">&#125;</div><div class="line">$i=<span class="number">5</span>;</div><div class="line">$str=<span class="string">"hello world"</span>;</div><div class="line">$arr=<span class="keyword">array</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</div><div class="line">$obj1=<span class="keyword">new</span> Sample1();</div><div class="line">$obj2=<span class="keyword">new</span> Sample2();</div><div class="line"></div><div class="line"><span class="keyword">echo</span> serialize($i);</div><div class="line"><span class="keyword">echo</span> <span class="string">"\n"</span>;</div><div class="line"><span class="keyword">echo</span> serialize($str);</div><div class="line"><span class="keyword">echo</span> <span class="string">"\n"</span>;</div><div class="line"><span class="keyword">echo</span> serialize($arr);</div><div class="line"><span class="keyword">echo</span> <span class="string">"\n"</span>;</div><div class="line"><span class="keyword">echo</span> serialize($obj1);</div><div class="line"><span class="keyword">echo</span> <span class="string">"\n"</span>;</div><div class="line"><span class="keyword">echo</span> serialize($obj2);</div><div class="line"><span class="meta">?&gt;</span></div></pre></td></tr></table></figure></p>
<p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">i:5;</div><div class="line">s:11:&quot;hello world&quot;;</div><div class="line">a:3:&#123;i:0;i:1;i:1;i:2;i:2;i:3;&#125;</div><div class="line">O:6:&quot;Sample&quot;:1:&#123;s:1:&quot;a&quot;;s:10:&quot;Sample_str&quot;;&#125;</div><div class="line">O:6:&quot;Sample&quot;:1:&#123;s:1:&quot;a&quot;;s:10:&quot;Sample_str&quot;;&#125;</div></pre></td></tr></table></figure></p>
<p>å¯è§ï¼Œåœ¨ç±»çš„å®ä¾‹åºåˆ—åŒ–ä»¥åï¼Œåªä¼šå°†å˜é‡åå­—ç±»å‹ä»¥åŠå€¼ä¿å­˜ä¸‹æ¥ï¼Œå¹¶ä¸ä¼šä¿å­˜ç±»çš„æ–¹æ³•ã€‚ååºåˆ—åŒ–å‡½æ•°èƒ½æŠŠä¸Šè¿°çš„å­—ç¬¦ä¸²è½¬æ¢å›åŸæ¥çš„å¯¹è±¡ã€‚</p>
<h2 id="0x03-ååºåˆ—åŒ–æ¼æ´"><a href="#0x03-ååºåˆ—åŒ–æ¼æ´" class="headerlink" title="0x03 ååºåˆ—åŒ–æ¼æ´"></a>0x03 ååºåˆ—åŒ–æ¼æ´</h2><p>å¦‚æœunserialize()å‡½æ•°çš„å‚æ•°å¯æ§ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æ§åˆ¶ååºåˆ—åŒ–åå¯¹è±¡ä¸­å˜é‡çš„å€¼ï¼Œå¦‚æœåŸæ¥ä»£ç ä¸­æœ‰ä¸€äº›å±é™©çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è°ƒç”¨ã€‚è™½ç„¶åˆ©ç”¨æ¡ä»¶ç•¥å¾®è‹›åˆ»ï¼Œä½†æ˜¯å®é™…ä¸­æ¼æ´è¿˜æ˜¯å¾ˆå¤šã€‚</p>
<h2 id="0x04-CVE-2016-7124"><a href="#0x04-CVE-2016-7124" class="headerlink" title="0x04 CVE-2016-7124"></a>0x04 CVE-2016-7124</h2><p>è¿™æ˜¯PHPçš„ä¸€ä¸ªæ¼æ´ï¼Œåˆ©ç”¨ç¯å¢ƒæ˜¯PHP5 &lt; 5.6.25 ï¼ŒPHP7 &lt; 7.0.10ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯å½“åºåˆ—åŒ–å­—ç¬¦ä¸²ä¸­è¡¨ç¤ºå¯¹è±¡ä¸­å±æ€§ä¸ªæ•°çš„æ•°å­—å¤§äºçœŸå®ä¸ªæ•°æ—¶ï¼Œå°±ä¼šè·³è¿‡__wakeup()å‡½æ•°çš„æ‰§è¡Œã€‚ä¾‹å­å¯ä»¥å‚è§2016 SWPU CTFä¸­çš„Web3é¢˜</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;0x01-é­”æ³•æ–¹æ³•&quot;&gt;&lt;a href=&quot;#0x01-é­”æ³•æ–¹æ³•&quot; class=&quot;headerlink&quot; title=&quot;0x01 é­”æ³•æ–¹æ³•&quot;&gt;&lt;/a&gt;0x01 é­”æ³•æ–¹æ³•&lt;/h2&gt;&lt;p&gt;é­”æ³•æ–¹æ³•ï¼Œæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ–¹æ³•ï¼Œå¦‚æœå®šä¹‰äº†ï¼Œå®ƒä¼šåœ¨è°ƒç”¨ä¸€äº›æ–¹æ³•ä¹‹å‰è‡ªåŠ¨è¿è¡Œã€‚åœ¨å¾ˆå¤šè¯­è¨€ä¸­éƒ½æœ‰é­”æ³•æ–¹æ³•ï¼Œä¾‹å¦‚ï¼Œåœ¨phpä¸­ï¼Œå¦‚æœåœ¨ä¸€ä¸ªç±»ä¸­å®šä¹‰äº†__constructæ–¹æ³•ï¼Œåœ¨è¿™ä¸ªç±»åˆå§‹åŒ–æ—¶ï¼Œå®ƒä¼šè¢«è‡ªåŠ¨è°ƒç”¨ã€‚__sleep()æ–¹æ³•ä¼šåœ¨serialize()æ–¹æ³•è°ƒç”¨ä¹‹å‰è°ƒç”¨ï¼Œ__wakeupæ–¹æ³•ä¼šåœ¨è°ƒç”¨unserialize()æ–¹æ³•ä¹‹å‰è°ƒç”¨ï¼Œè¿™äº›éƒ½æ˜¯phpè‡ªè¡Œè§„å®šçš„ï¼Œå¼€å‘è€…å¿…é¡»ä½¿ç”¨è§„å®šçš„æ–¹æ³•åï¼Œæ‰èƒ½è§¦å‘é­”æ³•æ–¹æ³•çš„è‡ªåŠ¨è¿è¡Œã€‚åœ¨Pythonä¸­ï¼Œé­”æ³•æ–¹æ³•æ›´åŠ å¸¸è§ï¼Œä¾‹å¦‚__init__æ–¹æ³•ç­‰ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="Webå®‰å…¨" scheme="http://blog.nudtcat.org/categories/WebSecurity/"/>
    
    
      <category term="phpæ¼æ´" scheme="http://blog.nudtcat.org/tags/php%E6%BC%8F%E6%B4%9E/"/>
    
      <category term="Webæ¼æ´" scheme="http://blog.nudtcat.org/tags/Web%E6%BC%8F%E6%B4%9E/"/>
    
  </entry>
  
  <entry>
    <title>æ±‡æ–‡opacå›¾ä¹¦é¦†åé—¨å¯¼è‡´æºç æ³„æ¼</title>
    <link href="http://blog.nudtcat.org/WebSecurity/%E6%B1%87%E6%96%87opac%E5%9B%BE%E4%B9%A6%E9%A6%86%E5%90%8E%E9%97%A8%E5%AF%BC%E8%87%B4%E6%BA%90%E7%A0%81%E6%B3%84%E6%BC%8F/"/>
    <id>http://blog.nudtcat.org/WebSecurity/æ±‡æ–‡opacå›¾ä¹¦é¦†åé—¨å¯¼è‡´æºç æ³„æ¼/</id>
    <published>2016-11-08T11:13:58.000Z</published>
    <updated>2016-11-11T12:19:20.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0x00-ä»‹ç»"><a href="#0x00-ä»‹ç»" class="headerlink" title="0x00 ä»‹ç»"></a>0x00 ä»‹ç»</h2><p>æ±‡æ–‡çš„libsyså›¾ä¹¦é¦†opacç³»ç»Ÿæ˜¯é«˜æ ¡ä½¿ç”¨å¾—æ¯”è¾ƒå¤šçš„ç³»ç»Ÿï¼Œç”¨æˆ·æœ‰å¦å¤§ï¼Œå—äº¬å¤§å­¦ï¼Œå¤§è¿ç†å·¥ï¼Œå—å¼€å¤§å­¦ç­‰å¤šæ‰€å­¦æ ¡ã€‚ç³»ç»Ÿä½¿ç”¨çš„æ˜¯Oracleï¼‹phpï¼Œæ— æ³•ä»å…¬å¼€è§¦åˆ°è·å–æºç ã€‚<br><a id="more"></a></p>
<h2 id="0x01-è·å–ä»£ç "><a href="#0x01-è·å–ä»£ç " class="headerlink" title="0x01 è·å–ä»£ç "></a>0x01 è·å–ä»£ç </h2><p>åœ¨æ±‡æ–‡å›¾ä¹¦é¦†çš„å®˜ç½‘ä¸Šï¼Œå¯ä»¥ä¸‹è½½åˆ°ä¸€äº›è¡¥ä¸ï¼Œå¦‚æˆªå›¾æ‰€ç¤ºã€‚<img src="/images/161108_01.png" alt=""><br>ä¸‹è½½OPACé‡è¦å®‰å…¨BUGæ›´æ–°ï¼Œå¯ä»¥çœ‹åˆ°ä¸€éƒ¨åˆ†phpæ–‡ä»¶ï¼Œphpä½¿ç”¨äº†DeZendåŠ å¯†ï¼Œå¯ä»¥ä½¿ç”¨å·¥å…·è§£å¯†ï¼Œå…¶ä¸­ï¼Œ/opac/ajax_libsys_view.phpæ–‡ä»¶ä»£ç å¦‚ä¸‹æ‰€ç¤º</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div></pre></td><td class="code"><pre><div class="line">&lt;?php</div><div class="line">/*********************/</div><div class="line">/*                   */</div><div class="line">/*  Dezend for PHP5  */</div><div class="line">/*         NWS       */</div><div class="line">/*      Nulled.WS    */</div><div class="line">/*                   */</div><div class="line">/*********************/</div><div class="line"></div><div class="line">require_once( "common.php" );</div><div class="line">require_once( "../include/hwopacpwd.php" );</div><div class="line">$pwd = $_REQUEST['code'];</div><div class="line">$crc = $_REQUEST['crc'];</div><div class="line">$date = strrev( date( "md" ) );</div><div class="line">if ( $pwd != "huiwen_opac" || $date != $crc )</div><div class="line">&#123;</div><div class="line">				echo "ERROR";</div><div class="line">				return;</div><div class="line">&#125;</div><div class="line">$ary = array( );</div><div class="line">$strSql = " SELECT * from v\$version ";</div><div class="line">$stmt = $dbh-&gt;prepare( $strSql );</div><div class="line">$stmt-&gt;execute( );</div><div class="line">$mode = OCI_FETCHSTATEMENT_BY_ROW;</div><div class="line">$version = $stmt-&gt;fetchall( $mode );</div><div class="line">$i = 0;</div><div class="line">for ( ;	$i &lt; count( $version );	++$i	)</div><div class="line">&#123;</div><div class="line">				$ary[] = array( "or" =&gt; $version[$i]['BANNER'] );</div><div class="line">&#125;</div><div class="line">$strSql = "SELECT  sys_para_code,sys_para_value FROM  sys_comm_para where sys_para_code in ('01','02','14','16','17','24','47','98','99','ACS','RFID','THREE-M' ) order by 1 ";</div><div class="line">$stmt = $dbh-&gt;prepare( $strSql );</div><div class="line">$stmt-&gt;execute( );</div><div class="line">$mode = OCI_FETCHSTATEMENT_BY_ROW;</div><div class="line">$para = $stmt-&gt;fetchall( $mode );</div><div class="line">$i = 0;</div><div class="line">for ( ;	$i &lt; count( $para );	++$i	)</div><div class="line">&#123;</div><div class="line">				$ary[] = array( trim( $para[$i]['SYS_PARA_CODE'] ) =&gt; str2utf8( $para[$i]['SYS_PARA_VALUE'] ) );</div><div class="line">&#125;</div><div class="line">$strSql = "SELECT  password FROM  lib_worker where  wkr_no='ROOT' ";</div><div class="line">$stmt = $dbh-&gt;prepare( $strSql );</div><div class="line">$stmt-&gt;execute( );</div><div class="line">$root = $stmt-&gt;fetch( );</div><div class="line">$ary[] = array( "RT" =&gt; $root['PASSWORD'] );</div><div class="line">$strSql = " select count(*) as cnt from marc ";</div><div class="line">$stmt = $dbh-&gt;prepare( $strSql );</div><div class="line">$stmt-&gt;execute( );</div><div class="line">$root = $stmt-&gt;fetch( );</div><div class="line">$ary[] = array( "M" =&gt; $root['CNT'] );</div><div class="line">$strSql = " select count(*) as cnt from indi_acct ";</div><div class="line">$stmt = $dbh-&gt;prepare( $strSql );</div><div class="line">$stmt-&gt;execute( );</div><div class="line">$root = $stmt-&gt;fetch( );</div><div class="line">$ary[] = array( "I" =&gt; $root['CNT'] );</div><div class="line">$strSql = " select count(*) as cnt from reader where redr_flag=1 ";</div><div class="line">$stmt = $dbh-&gt;prepare( $strSql );</div><div class="line">$stmt-&gt;execute( );</div><div class="line">$root = $stmt-&gt;fetch( );</div><div class="line">$ary[] = array( "R" =&gt; $root['CNT'] );</div><div class="line">foreach ( $ary as $item )</div><div class="line">&#123;</div><div class="line">				print_r( $item );</div><div class="line">				echo "&lt;br/&gt;";</div><div class="line">&#125;</div><div class="line">?&gt;</div></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ï¼Œåªè¦è¾“å…¥æ­£ç¡®çš„codeå’Œcrcå³å¯æ‰§è¡Œifé€»è¾‘åé¢çš„ä¸€ç³»åˆ—sqlæŸ¥è¯¢è¯­å¥ã€‚<br>ä»¥å¦é—¨å¤§å­¦ä¸ºä¾‹ï¼š<a href="http://opac.xmulib.org/opac/ajax_libsys_view.php?code=huiwen_opac&amp;crc=8011" target="_blank" rel="external">http://opac.xmulib.org/opac/ajax_libsys_view.php?code=huiwen_opac&amp;crc=8011</a><br>crcä¸ºæœˆä»½æ—¥æœŸæŒ‰ç…§å€’åºæ’åˆ—ï¼Œä¾‹å¦‚ä»Šå¤©æ˜¯11æœˆ8æ—¥ï¼Œåˆ™ä¸º1108å€’åºï¼Œå³8011ï¼Œç»“æœå¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">Array ( [or] =&gt; Oracle Database 10g Enterprise Edition Release 10.2.0.1.0 - 64bi ) </div><div class="line">Array ( [or] =&gt; PL/SQL Release 10.2.0.1.0 - Production ) </div><div class="line">Array ( [or] =&gt; CORE	10.2.0.1.0	Production ) </div><div class="line">Array ( [or] =&gt; TNS for Solaris: Version 10.2.0.1.0 - Production ) </div><div class="line">Array ( [or] =&gt; NLSRTL Version 10.2.0.1.0 - Production ) </div><div class="line">Array ( [01] =&gt; å¦é—¨å¤§å­¦ ) </div><div class="line">Array ( [02] =&gt; http://210.34.4.28 ) </div><div class="line">Array ( [14] =&gt; XMU,235010 ) </div><div class="line">Array ( [16] =&gt; 7050-7901-9735-7268-7661-9231-6348 ) </div><div class="line">Array ( [17] =&gt; Enterprise ) </div><div class="line">Array ( [24] =&gt; 5048535745485245495545207195195197180243209167205188202233185221 ) </div><div class="line">Array ( [47] =&gt; 0 ) </div><div class="line">Array ( [98] =&gt; 3174-19803-0843-1589-15002 ) </div><div class="line">Array ( [99] =&gt; 5.5.10 ) </div><div class="line">Array ( [RFID] =&gt; 2640-011-913-785 ) </div><div class="line">Array ( [THREE-M] =&gt; 2640-011-913-785 ) </div><div class="line">Array ( [RT] =&gt; ) </div><div class="line">Array ( [M] =&gt; 2332777 ) </div><div class="line">Array ( [I] =&gt; 4495757 ) </div><div class="line">Array ( [R] =&gt; 85492 )</div></pre></td></tr></table></figure></p>
<p>å…¶ä¸­ï¼Œ7050-7901-9735-7268-7661-9231-6348å³ä¸ºäº§å“åºåˆ—å·ï¼Œå¯ä»¥å»å®˜ç½‘ä¸‹è½½å®Œæ•´å®‰è£…åŒ…ã€‚<br><img src="/images/161108_02.png" alt=""><br>å®‰è£…ï¼Œåœ¨hwwebä¸‹å³ä¸ºphpæºç ï¼Œä½¿ç”¨Dezendè§£å¯†ç¨‹åºè§£å¯†å³å¯æ‹¿åˆ°æ‰€æœ‰æºç </p>
<h2 id="0x03-åç»­"><a href="#0x03-åç»­" class="headerlink" title="0x03 åç»­"></a>0x03 åç»­</h2><p>è¿™ä¸ªæ¼æ´å±äºå®˜æ–¹åé—¨æ— ç–‘ï¼Œæ‹¿åˆ°æºç åï¼Œæ­£åœ¨å®¡è®¡ä¸­ã€‚ã€‚ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;0x00-ä»‹ç»&quot;&gt;&lt;a href=&quot;#0x00-ä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;0x00 ä»‹ç»&quot;&gt;&lt;/a&gt;0x00 ä»‹ç»&lt;/h2&gt;&lt;p&gt;æ±‡æ–‡çš„libsyså›¾ä¹¦é¦†opacç³»ç»Ÿæ˜¯é«˜æ ¡ä½¿ç”¨å¾—æ¯”è¾ƒå¤šçš„ç³»ç»Ÿï¼Œç”¨æˆ·æœ‰å¦å¤§ï¼Œå—äº¬å¤§å­¦ï¼Œå¤§è¿ç†å·¥ï¼Œå—å¼€å¤§å­¦ç­‰å¤šæ‰€å­¦æ ¡ã€‚ç³»ç»Ÿä½¿ç”¨çš„æ˜¯Oracleï¼‹phpï¼Œæ— æ³•ä»å…¬å¼€è§¦åˆ°è·å–æºç ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="Webå®‰å…¨" scheme="http://blog.nudtcat.org/categories/WebSecurity/"/>
    
    
      <category term="Webå®‰å…¨" scheme="http://blog.nudtcat.org/tags/Web%E5%AE%89%E5%85%A8/"/>
    
      <category term="æ¼æ´" scheme="http://blog.nudtcat.org/tags/%E6%BC%8F%E6%B4%9E/"/>
    
  </entry>
  
  <entry>
    <title>SWPU CTF writeup</title>
    <link href="http://blog.nudtcat.org/CTF/SWPU-CTF-writeup/"/>
    <id>http://blog.nudtcat.org/CTF/SWPU-CTF-writeup/</id>
    <published>2016-10-28T10:53:07.000Z</published>
    <updated>2016-11-08T10:56:37.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0x00-æ¦‚æ‹¬"><a href="#0x00-æ¦‚æ‹¬" class="headerlink" title="0x00 æ¦‚æ‹¬"></a>0x00 æ¦‚æ‹¬</h2><p>è¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å‚åŠ CTFæ¯”èµ›ã€‚é€†å‘å°ç™½ï¼Œéšå†™å°ç™½ï¼Œä½†æ˜¯åšå‡ºäº†æ‰€æœ‰çš„éšå†™é¢˜ã€‚æœ€æ“…é•¿Webæ–¹å‘(å’Œç¼–ç¨‹)ï¼Œè€ŒWebé¢˜åšå¾—ä¸å¤šã€‚Webæ–¹å‘çš„çŸ¥è¯†è¿˜æ˜¯ä¸ç‰¢å›ºï¼ŒæŠ€å·§ä¸å¤Ÿç†Ÿç»ƒï¼Œå®è·µç»éªŒä¸è¶³ã€‚</p>
<p>æ¯”èµ›ç»“æœå½“ç„¶ä¸å¤ªå¥½ï¼Œæ’å42ã€‚</p>
<p>æˆ‘æŒ‰ç…§é¡ºåºé¢˜ç›®åˆ†ç±»å†™å†™writeupå§ã€‚</p>
<a id="more"></a>
<h2 id="0x01-MISC-éšå†™é¢˜"><a href="#0x01-MISC-éšå†™é¢˜" class="headerlink" title="0x01 MISC éšå†™é¢˜"></a>0x01 MISC éšå†™é¢˜</h2><h3 id="åšå‡ºçš„"><a href="#åšå‡ºçš„" class="headerlink" title="åšå‡ºçš„"></a>åšå‡ºçš„</h3><h4 id="MISC2-150åˆ†"><a href="#MISC2-150åˆ†" class="headerlink" title="MISC2 150åˆ†"></a>MISC2 150åˆ†</h4><p>å…ˆä»MISC2å¼€å§‹å§(å¹¶æ²¡æœ‰MISC1)ã€‚æ–‡ä»¶æ˜¯ä¸€æ®µæµé‡çš„æŠ“åŒ…ï¼Œä½¿ç”¨wiresharkæå–æ–‡ä»¶ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªè¯·æ±‚flag.zipçš„HTTPè¯·æ±‚ï¼Œæå–flag.zipï¼Œè§£å‹å¾—åˆ°ä¸€ä¸ªce.txtæ–‡ä»¶ã€‚å¤§è‡´å¦‚ä¸‹å›¾æ‰€ç¤º<br><img src="/images/161028_01.png" alt=""><br>ç¬¬ä¸€æ¬¡æ‰“CTFï¼Œä¸å¤ªç†Ÿæ‚‰å¥—è·¯ï¼Œçœ‹äº†å¥½ä¹…æ‰å‘ç°å¯èƒ½æ˜¯RGBå€¼ã€‚è¡Œæ•°ä¸º98457=887*111ï¼Œå¯èƒ½å°±æ˜¯é•¿å®½äº†ã€‚ç”¨Python PILå†™äº†ä¸ªè„šæœ¬ï¼Œå›¾ç‰‡è¿˜åŸå¦‚ä¸‹<br><img src="/images/161028_02.bmp" alt=""></p>
<h4 id="MISC3-100åˆ†"><a href="#MISC3-100åˆ†" class="headerlink" title="MISC3 100åˆ†"></a>MISC3 100åˆ†</h4><p>MISC3æ˜¯ä¸€ä¸ªå›¾ç‰‡ï¼Œåˆ©ç”¨Googleæœå›¾æœåˆ°åŸå›¾ï¼Œå¯¹æ¯”å‘ç°æœ€åå¢åŠ äº†ä¸€ä¸²å­—ç¬¦ï¼ŒOZRGW4L3OVVUG22TL53HEZDVPJ2HKY2DKZIVQVTVOZ5HKY3LOJ3HIWSEKVBFIR2ZKNVXMY3LOR3H2===ï¼Œçœ‹åˆ°ç­‰å·åº”è¯¥æƒ³åˆ°base64ï¼Œçœ‹åˆ°ä¸‰ä¸ªç­‰å·åº”è¯¥æƒ³åˆ°ä¸æ˜¯base64ã€‚å®é™…ä¸Šæ˜¯base32ç¼–ç ï¼Œè§£ç å¾—åˆ°vbkq{ukCkS_vrduztucCVQXVuvzuckrvtZDUBTGYSkvcktv}ã€‚æ„Ÿè§‰å‰å››ä¸ªåº”è¯¥æ˜¯flagï¼Œåˆæ­¥æ€€ç–‘æ˜¯å‡¯æ’’å¯†ç ï¼Œåæ¥å‘ç°asciiç çš„å¥‡å¶ä¸åŒï¼Œä½ç§»æ–¹å‘ä¸åŒï¼Œå†™ä¸ªè„šæœ¬å¾—åˆ°flagã€‚</p>
<h4 id="MISC4-100åˆ†"><a href="#MISC4-100åˆ†" class="headerlink" title="MISC4 100åˆ†"></a>MISC4 100åˆ†</h4><p>fuck.htmlï¼Œé•¿è¿™æ ·<br><img src="/images/161028_03.png" alt=""><br>å¾ˆæ˜¾ç„¶è¿™ä¸ªæ˜¯jsfuckï¼Œç›´æ¥è¿è¡Œå³å¯æŸ¥çœ‹ç»“æœï¼Œå¦‚ä¸‹å›¾<br><img src="/images/161028_04.png" alt=""><br>å¼¹å‡ºç»“æœä¸ºbrianfuckåŠ å¯†ï¼Œè§£å¯†å³å¯å¾—åˆ°flag</p>
<h2 id="0x02-Web"><a href="#0x02-Web" class="headerlink" title="0x02 Web"></a>0x02 Web</h2><h3 id="åšå‡ºçš„-1"><a href="#åšå‡ºçš„-1" class="headerlink" title="åšå‡ºçš„"></a>åšå‡ºçš„</h3><h4 id="Web-100"><a href="#Web-100" class="headerlink" title="Web 100"></a>Web 100</h4><p>è¿™æ˜¯ä¸€é“æ–‡ä»¶åŒ…å«æ–¹é¢çš„é¢˜ç›®ï¼ŒTips1æ˜¯include.phpã€‚è¯·æ±‚include.phpï¼Œæç¤ºTips: the parameter is file! :)æŸ¥çœ‹htmlæºç ï¼Œå‘ç°upload.phpï¼Œè¿™æ˜¯ä¸€é“ä¸Šä¼ æ–‡ä»¶åŒ…å«çš„é¢˜ç›®ï¼Œå¦‚æœæ˜¯çº¯ä¸Šä¼ å°±ä¸ä¼šæœ‰include.phpï¼Œæ‰€ä»¥ä¸Šä¼ åº”è¯¥é™åˆ¶æ¯”è¾ƒæ­»ã€‚é¦–å…ˆåˆ©ç”¨php://filter/convert.base64-encode/resource=includeæ‹¿åˆ°include.phpçš„æºç ï¼Œè¿™é‡Œæœ‰ä¸ªå‘ï¼Œæ–‡ä»¶åä¸èƒ½æ˜¯include.phpï¼Œè¿™ä¸ç§‘å­¦ï¼Œä½†æ˜¯çœ‹åˆ°æºç åå°±çŸ¥é“äº†ã€‚base64 decodeå¾—åˆ°æºç <br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">@$file = $_GET[<span class="string">"file"</span>];</div><div class="line">    <span class="keyword">if</span>(<span class="keyword">isset</span>($file))</div><div class="line">    &#123;</div><div class="line">        </div><div class="line">        <span class="keyword">if</span> (preg_match(<span class="string">'/http|data|ftp|input|%00/i'</span>, $file) || strstr($file,<span class="string">".."</span>) !== <span class="keyword">FALSE</span> || strlen($file)&gt;=<span class="number">70</span>)</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">echo</span> <span class="string">"&lt;p&gt; error! &lt;/p&gt;"</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span></div><div class="line">        &#123;</div><div class="line">            <span class="keyword">include</span>($file.<span class="string">'.php'</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p>è¿‡æ»¤äº†httpç­‰è¿œç¨‹åè®®ï¼Œä¸èƒ½ä½¿ç”¨php://inputï¼Œä¸èƒ½åˆ©ç”¨%00å’Œå¤šä¸ª./æˆªæ–­ã€‚è¿˜ä¼šåœ¨æ–‡ä»¶ååé¢åŠ .phpåç¼€ï¼Œè€Œæ˜¾ç„¶æ— æ³•ä¸Šä¼ phpæ–‡ä»¶ã€‚åœ¨è¿™é‡Œï¼Œæœ‰ä¸¤ç§æ–‡ä»¶å¯ä»¥çªç ´é™åˆ¶ï¼Œä¸€ç§æ˜¯åˆ©ç”¨zip://ä¼ªåè®®ï¼Œå¦ä¸€ç§æ˜¯phar://ä¼ªåè®®ã€‚zipä¸è¡Œï¼Œpharå¯ä»¥ï¼Œå³å¯æ‹¿åˆ°shellï¼Œåœ¨å½“å‰ç›®å½•ä¸‹æœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œswpu_wbe2_tips.txtï¼Œå†…å«flagå’Œä¸‹ä¸€é“é¢˜çš„æç¤ºã€‚</p>
<h2 id="0x03-å®Œæ•´Writeup"><a href="#0x03-å®Œæ•´Writeup" class="headerlink" title="0x03 å®Œæ•´Writeup"></a>0x03 å®Œæ•´Writeup</h2><p><a href="http://bobao.360.cn/ctf/detail/173.html" target="_blank" rel="external">http://bobao.360.cn/ctf/detail/173.html</a><br><a href="http://blog.l1n3.net/writeup/swpu_ctf_2016_writeup/" target="_blank" rel="external">http://blog.l1n3.net/writeup/swpu_ctf_2016_writeup/</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;0x00-æ¦‚æ‹¬&quot;&gt;&lt;a href=&quot;#0x00-æ¦‚æ‹¬&quot; class=&quot;headerlink&quot; title=&quot;0x00 æ¦‚æ‹¬&quot;&gt;&lt;/a&gt;0x00 æ¦‚æ‹¬&lt;/h2&gt;&lt;p&gt;è¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å‚åŠ CTFæ¯”èµ›ã€‚é€†å‘å°ç™½ï¼Œéšå†™å°ç™½ï¼Œä½†æ˜¯åšå‡ºäº†æ‰€æœ‰çš„éšå†™é¢˜ã€‚æœ€æ“…é•¿Webæ–¹å‘(å’Œç¼–ç¨‹)ï¼Œè€ŒWebé¢˜åšå¾—ä¸å¤šã€‚Webæ–¹å‘çš„çŸ¥è¯†è¿˜æ˜¯ä¸ç‰¢å›ºï¼ŒæŠ€å·§ä¸å¤Ÿç†Ÿç»ƒï¼Œå®è·µç»éªŒä¸è¶³ã€‚&lt;/p&gt;
&lt;p&gt;æ¯”èµ›ç»“æœå½“ç„¶ä¸å¤ªå¥½ï¼Œæ’å42ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘æŒ‰ç…§é¡ºåºé¢˜ç›®åˆ†ç±»å†™å†™writeupå§ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="CTF" scheme="http://blog.nudtcat.org/categories/CTF/"/>
    
    
      <category term="CTF" scheme="http://blog.nudtcat.org/tags/CTF/"/>
    
      <category term="writeup" scheme="http://blog.nudtcat.org/tags/writeup/"/>
    
  </entry>
  
  <entry>
    <title>uriæå–æ­£åˆ™è¡¨è¾¾å¼</title>
    <link href="http://blog.nudtcat.org/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/uri%E6%8F%90%E5%8F%96%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
    <id>http://blog.nudtcat.org/æ­£åˆ™è¡¨è¾¾å¼/uriæå–æ­£åˆ™è¡¨è¾¾å¼/</id>
    <published>2016-10-13T13:33:05.000Z</published>
    <updated>2016-10-14T03:23:48.000Z</updated>
    
    <content type="html"><![CDATA[<p>uriçš„æ ¼å¼å¤šç§å¤šæ ·ï¼Œç»å¸¸éœ€è¦æ ¡éªŒuriæˆ–è€…åˆ†æuriæå–å„éƒ¨åˆ†ï¼Œä¸‹é¢æä¾›ä¸€ä¸ªè‡ªå·±å†™çš„æ­£åˆ™è¡¨è¾¾å¼æ¥æå–uriï¼Œæˆ‘ç”¨å®ƒæ¥åˆ†ææ‰«æå™¨ä¸­è¾“å…¥çš„æˆ–è€…çˆ¬å–åˆ°çš„uriï¼Œä¼˜å…ˆæå–ï¼Œç”±äºæ°´å¹³æœ‰é™ï¼Œæœªèƒ½å®Œå…¨æ ¡éªŒuriæ˜¯å¦åˆæ³•ã€‚<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/env python</span></div><div class="line"><span class="comment"># -*- coding:utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> re</div><div class="line"></div><div class="line">url_parse_re = <span class="string">r"^(\w*):\/\/(?:([^:]*)?(?::(.*))?@)?([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$"</span></div><div class="line"><span class="string">"""</span></div><div class="line">^(\w*):\/\/</div><div class="line">(?:       ([^:]*)?(?::(.*))?       @)?</div><div class="line">([0-9.\-A-Za-z]+)</div><div class="line">(?::(\d+))?</div><div class="line">(?:\/([^?#]*))?</div><div class="line">(?:\?([^#]*))?</div><div class="line">(?:#(.*))?$</div><div class="line"></div><div class="line">"""</div><div class="line">testcase = <span class="string">"protocol://username:password@www.sample.com:80/path.php?id=1#hash"</span></div><div class="line"></div><div class="line">r = re.compile(url_parse_re)</div><div class="line">str = re.match(r, testcase)</div><div class="line"><span class="keyword">if</span> str != <span class="keyword">None</span>:</div><div class="line">	<span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">9</span>):</div><div class="line">		<span class="keyword">print</span> x, str.group(x)</div></pre></td></tr></table></figure></p>
<a id="more"></a>
<p>ä¸‹é¢æ˜¯ç®€ç•¥åˆ†æï¼š</p>
<ul>
<li><code>?:</code>ä¸æ•è·åŒ¹é…æ–‡æœ¬ï¼Œä¹Ÿä¸ç»™å®ƒåˆ†é…ç»„å’Œç»„å·</li>
<li><code>^(\w*):\/\/</code>:åŒ¹é…protocol://ï¼Œä¾‹å¦‚<a href="http://,ftp://" target="_blank" rel="external">http://,ftp://</a></li>
<li><code>(?:       ([^:]*)?(?::(.*))?       @)?</code>åŒ¹é…ç”¨æˆ·åå¯†ç éƒ¨åˆ†</li>
<li><code>([0-9.\-A-Za-z]+)</code>:åŒ¹é…hostnameéƒ¨åˆ†</li>
<li><code>(?::(\d+))?</code>: åŒ¹é…ç«¯å£</li>
<li><code>(?:\/([^?#]*))?</code>åŒ¹é…è·¯å¾„</li>
<li><code>(?:\?([^#]*))?</code>åŒ¹é…è¯·æ±‚å‚æ•°</li>
<li><p><code>(?:#(.*))?$</code>åŒ¹é…é”šç‚¹</p>
<p>ä¼˜ç‚¹æ˜¯å¯¹äºä¸åŒçš„uriï¼Œå„éƒ¨åˆ†æ‰€åœ¨çš„groupä¸‹æ ‡ä¸å˜ã€‚ä¾‹å¦‚group(4)æ˜¯hostnameï¼Œé‚£ä¹ˆä¸ç®¡uriåŒ…ä¸åŒ…å«usernameå’Œpasswordï¼Œgroup(4)å§‹ç»ˆæ˜¯hostnameã€‚  </p>
</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;uriçš„æ ¼å¼å¤šç§å¤šæ ·ï¼Œç»å¸¸éœ€è¦æ ¡éªŒuriæˆ–è€…åˆ†æuriæå–å„éƒ¨åˆ†ï¼Œä¸‹é¢æä¾›ä¸€ä¸ªè‡ªå·±å†™çš„æ­£åˆ™è¡¨è¾¾å¼æ¥æå–uriï¼Œæˆ‘ç”¨å®ƒæ¥åˆ†ææ‰«æå™¨ä¸­è¾“å…¥çš„æˆ–è€…çˆ¬å–åˆ°çš„uriï¼Œä¼˜å…ˆæå–ï¼Œç”±äºæ°´å¹³æœ‰é™ï¼Œæœªèƒ½å®Œå…¨æ ¡éªŒuriæ˜¯å¦åˆæ³•ã€‚&lt;br&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;#!/usr/bin/env python&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# -*- coding:utf-8 -*-&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;import&lt;/span&gt; re&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;url_parse_re = &lt;span class=&quot;string&quot;&gt;r&quot;^(\w*):\/\/(?:([^:]*)?(?::(.*))?@)?([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;&quot;&quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;^(\w*):\/\/&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;(?:       ([^:]*)?(?::(.*))?       @)?&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;([0-9.\-A-Za-z]+)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;(?::(\d+))?&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;(?:\/([^?#]*))?&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;(?:\?([^#]*))?&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;(?:#(.*))?$&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&quot;&quot;&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;testcase = &lt;span class=&quot;string&quot;&gt;&quot;protocol://username:password@www.sample.com:80/path.php?id=1#hash&quot;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;r = re.compile(url_parse_re)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;str = re.match(r, testcase)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt; str != &lt;span class=&quot;keyword&quot;&gt;None&lt;/span&gt;:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	&lt;span class=&quot;keyword&quot;&gt;for&lt;/span&gt; x &lt;span class=&quot;keyword&quot;&gt;in&lt;/span&gt; range(&lt;span class=&quot;number&quot;&gt;9&lt;/span&gt;):&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		&lt;span class=&quot;keyword&quot;&gt;print&lt;/span&gt; x, str.group(x)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="æ­£åˆ™è¡¨è¾¾å¼" scheme="http://blog.nudtcat.org/categories/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
    
    
      <category term="æ­£åˆ™è¡¨è¾¾å¼" scheme="http://blog.nudtcat.org/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>RFIDæ‚è°ˆ</title>
    <link href="http://blog.nudtcat.org/RFID/RFID%E6%9D%82%E8%B0%88/"/>
    <id>http://blog.nudtcat.org/RFID/RFIDæ‚è°ˆ/</id>
    <published>2016-10-07T11:32:16.000Z</published>
    <updated>2016-10-07T13:10:36.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>è¿™ç¯‡æ–‡ç« å„ä¸ªéƒ¨åˆ†æ²¡æœ‰é€»è¾‘è”ç³»ï¼Œæ¯ä¸ªéƒ¨åˆ†ä¸€ä¸ªä¸»é¢˜ã€‚</p>
<p>å¯¹RFIDçš„äº†è§£å¹¶ä¸æ·±åˆ»ï¼Œå¦‚æœæœ‰ç–æ¼æˆ–è€…é”™è¯¯ï¼Œå¯ä»¥å‘é‚®ä»¶ç»™æˆ‘æˆ–è€…ç›´æ¥è¯„è®ºã€‚</p>
<h2 id="0x01-è¯»å¡çš„è¿‡ç¨‹"><a href="#0x01-è¯»å¡çš„è¿‡ç¨‹" class="headerlink" title="0x01 è¯»å¡çš„è¿‡ç¨‹"></a>0x01 è¯»å¡çš„è¿‡ç¨‹</h2><p>äº†è§£ä¸€ä¸ªç³»ç»Ÿæœ€å¥½å…ˆäº†è§£è¿™ä¸ªç³»ç»Ÿçš„å„ä¸ªæ¨¡å—ä¸å„ä¸ªå±‚æ¬¡ï¼ŒçŸ¥é“æ¯ä¸ªæ¨¡å—ï¼Œæ¯ä¸ªå±‚æ¬¡çš„ä½œç”¨ï¼Œå½“é‡åˆ°å…³äºè¿™ä¸ªç³»ç»Ÿçš„çŸ¥è¯†æ—¶ï¼ŒçŸ¥é“å®ƒè¯´çš„æ˜¯è¿™ä¸ªç³»ç»Ÿçš„å“ªä¸€éƒ¨åˆ†ã€‚<br><a id="more"></a><br><img src="/images/161007_01.png" alt=""></p>
<h2 id="0x02-ä¸€ä¸ªM1å¡çš„ä¾‹å­ğŸŒ°"><a href="#0x02-ä¸€ä¸ªM1å¡çš„ä¾‹å­ğŸŒ°" class="headerlink" title="0x02 ä¸€ä¸ªM1å¡çš„ä¾‹å­ğŸŒ°"></a>0x02 ä¸€ä¸ªM1å¡çš„ä¾‹å­ğŸŒ°</h2><p>å¾ˆå¤šå­¦æ ¡ä¸€å¡é€šéƒ½æ˜¯ç”¨çš„å“ˆå°”æ»¨æ–°ä¸­æ–°ç”µå­çš„M1å¡ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼ŒM1å¡å­˜åœ¨æ¼æ´èƒ½å¤Ÿç ´è§£è¯»å–å¯†ç ã€‚è€Œä¸”åœ¨æ–°ä¸­æ–°çš„å¡ä¸­ï¼Œä¸€å¡é€šçš„æ¶ˆè´¹å¯†ç ç›´æ¥å†™åœ¨å¡ç‰‡ä¸­ã€‚å¦‚æœä¸€ä¸ªå­¦æ ¡æ‰€æœ‰ä¸€å¡é€šçš„å¯†ç éƒ½æ˜¯ä¸€æ ·çš„ï¼Œåªè¦ç ´è§£å‡ºè‡ªå·±å¡ç‰‡çš„å¯†ç å³å¯è¯»å–åˆ«äººçš„æ¶ˆè´¹å¯†ç ã€‚</p>
<p>ä½†æ˜¯ï¼Œå®è·µè¡¨æ˜ï¼Œæ¯å¼ å¡çš„å¯†ç éƒ½æ˜¯ä¸åŒçš„ã€‚è€Œåˆ·å¡çš„æœºå™¨å¯èƒ½æ— æ³•å®æ—¶è”ç½‘ï¼Œè€Œä¸”å­˜å‚¨ç©ºé—´å¯èƒ½ä¸å¤Ÿã€‚é‚£ä¹ˆï¼Œå¡ç‰‡çš„å¯†ç å¯èƒ½æ˜¯UIDé€šè¿‡ä¸€å®šçš„æ‘˜è¦ç®—æ³•ç”Ÿæˆçš„ã€‚</p>
<p>ä¼—æ‰€å‘¨çŸ¥ï¼ŒåŠ å¯†çš„å®‰å…¨æ€§ä¸èƒ½ä¾é ç®—æ³•çš„ä¿å¯†æ€§ï¼Œè€Œåº”è¯¥ä»…ä¾èµ–å¯†é’¥çš„å®‰å…¨æ€§ã€‚ä½†æ˜¯ï¼Œä¾èµ–ç®—æ³•ä¿å¯†æ€§çš„è®¾è®¡åœ¨å¡ç‰‡å®‰å…¨è¿™ä¸ªç‰¹å®šé¢†åŸŸä¸­éå¸¸å¸¸è§ï¼Œè€Œä¸”å¾ˆå¤šæ—¶å€™ä¹Ÿæ˜¯ç›¸å¯¹å®‰å…¨çš„ã€‚</p>
<h2 id="0x03-é“¶è¡Œå¡çš„éšç§ä¿æŠ¤"><a href="#0x03-é“¶è¡Œå¡çš„éšç§ä¿æŠ¤" class="headerlink" title="0x03 é“¶è¡Œå¡çš„éšç§ä¿æŠ¤"></a>0x03 é“¶è¡Œå¡çš„éšç§ä¿æŠ¤</h2><p>åœ¨PBOC(ä¸­å›½äººæ°‘é“¶è¡Œ)çš„é“¶è¡Œå¡è§„èŒƒä¸­ï¼Œå…·æœ‰NFCåŠŸèƒ½çš„é“¶è¡Œå¡å†…ï¼Œå¡å†…ä¿å­˜çš„å¡å·ï¼Œå§“åï¼Œèº«ä»½è¯å·ï¼Œæœ€è¿‘10ç¬”æ¶ˆè´¹è®°å½•æ˜¯è‡ªç”±å¯è¯»çš„ã€‚å›½å¤–çš„EMVæ ‡å‡†ä¸­äº¦æ˜¯å¦‚æ­¤ã€‚ä¸¥æ ¼æ¥è¯´ï¼Œä¸èƒ½ç®—å®‰å…¨é—®é¢˜ã€‚</p>
<p>360ç”šè‡³è¿˜å‡ºäº†å¡å¥—å’Œå¡é˜²æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å¼ºè¿«ç—‡çš„åŒå­¦å¯ä»¥ä½¿ç”¨ã€‚</p>
<p>å½“ç„¶ï¼Œå¯ä»¥ä½¿ç”¨ç¨‹åºæ¥è¯»å–ï¼Œæœ‰äººå†™äº†ä¸€ä¸ªè„šæœ¬æ¥è¯»å–å’Œè§£æã€‚<a href="https://github.com/nudtcat/pbocreader" target="_blank" rel="external">githubåœ°å€</a>ã€‚å¯ä»¥é…åˆACR122ué£Ÿç”¨ã€‚</p>
<h2 id="0x04-ç£æ¡å¡çš„å¤åˆ¶"><a href="#0x04-ç£æ¡å¡çš„å¤åˆ¶" class="headerlink" title="0x04 ç£æ¡å¡çš„å¤åˆ¶"></a>0x04 ç£æ¡å¡çš„å¤åˆ¶</h2><p>åœ¨èŠ¯ç‰‡å¡è¿˜æ²¡æœ‰æ™®åŠçš„æ—¶å€™ï¼Œé“¶è¡Œå¡åŸºæœ¬éƒ½æ˜¯ç£æ¡å¡ï¼Œç£æ¡å¡çš„ç›—åˆ·éå¸¸ä¸¥é‡ã€‚åŸå› å°±æ˜¯ç£æ¡å¡ä¸‰æ¡ç£è½¨å†…çš„æ•°æ®è‡ªç”±å¯è¯»ï¼Œè€Œä¸”ç£æ¡å¡ä¸­æ•°æ®çš„ä½œç”¨è·ŸIDå¡ä¸­IDçš„ä½œç”¨ç±»ä¼¼ã€‚</p>
<p>èŠ¯ç‰‡å¡æ™®åŠä»¥åï¼Œè¿™ç§å†…ç½®CPUçš„å¡ç‰‡å®‰å…¨å¾ˆå¤šäº†ï¼ŒåŸºæœ¬ä¸å¯èƒ½å¤åˆ¶ï¼Œè€Œä¸”èŠ¯ç‰‡å¡è™½ç„¶è¿˜æœ‰ç£æ¡ï¼Œä½†æ˜¯å¼ºåˆ¶ä½¿ç”¨èŠ¯ç‰‡äº¤æ˜“ï¼Œä¸èƒ½é™ç»´æ”»å‡»ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;0x00-å‰è¨€&quot;&gt;&lt;a href=&quot;#0x00-å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;0x00 å‰è¨€&quot;&gt;&lt;/a&gt;0x00 å‰è¨€&lt;/h2&gt;&lt;p&gt;è¿™ç¯‡æ–‡ç« å„ä¸ªéƒ¨åˆ†æ²¡æœ‰é€»è¾‘è”ç³»ï¼Œæ¯ä¸ªéƒ¨åˆ†ä¸€ä¸ªä¸»é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹RFIDçš„äº†è§£å¹¶ä¸æ·±åˆ»ï¼Œå¦‚æœæœ‰ç–æ¼æˆ–è€…é”™è¯¯ï¼Œå¯ä»¥å‘é‚®ä»¶ç»™æˆ‘æˆ–è€…ç›´æ¥è¯„è®ºã€‚&lt;/p&gt;
&lt;h2 id=&quot;0x01-è¯»å¡çš„è¿‡ç¨‹&quot;&gt;&lt;a href=&quot;#0x01-è¯»å¡çš„è¿‡ç¨‹&quot; class=&quot;headerlink&quot; title=&quot;0x01 è¯»å¡çš„è¿‡ç¨‹&quot;&gt;&lt;/a&gt;0x01 è¯»å¡çš„è¿‡ç¨‹&lt;/h2&gt;&lt;p&gt;äº†è§£ä¸€ä¸ªç³»ç»Ÿæœ€å¥½å…ˆäº†è§£è¿™ä¸ªç³»ç»Ÿçš„å„ä¸ªæ¨¡å—ä¸å„ä¸ªå±‚æ¬¡ï¼ŒçŸ¥é“æ¯ä¸ªæ¨¡å—ï¼Œæ¯ä¸ªå±‚æ¬¡çš„ä½œç”¨ï¼Œå½“é‡åˆ°å…³äºè¿™ä¸ªç³»ç»Ÿçš„çŸ¥è¯†æ—¶ï¼ŒçŸ¥é“å®ƒè¯´çš„æ˜¯è¿™ä¸ªç³»ç»Ÿçš„å“ªä¸€éƒ¨åˆ†ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="RFID" scheme="http://blog.nudtcat.org/categories/RFID/"/>
    
    
      <category term="RFID" scheme="http://blog.nudtcat.org/tags/RFID/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºä¿¡ä»»çš„åæ€</title>
    <link href="http://blog.nudtcat.org/Chat/%E5%85%B3%E4%BA%8E%E4%BF%A1%E4%BB%BB%E7%9A%84%E5%8F%8D%E6%80%9D/"/>
    <id>http://blog.nudtcat.org/Chat/å…³äºä¿¡ä»»çš„åæ€/</id>
    <published>2016-09-25T11:54:22.000Z</published>
    <updated>2016-09-28T03:12:02.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0x01-ä¿¡ä»»"><a href="#0x01-ä¿¡ä»»" class="headerlink" title="0x01 ä¿¡ä»»"></a>0x01 ä¿¡ä»»</h2><p>å¾ˆå¤šå®‰å…¨äº‹ä»¶çš„é—®é¢˜éƒ½å‡ºç°åœ¨ä¿¡ä»»ä¸Šï¼Œä¸Šå±‚æ¨¡å—å¯¹åº•å±‚æ¨¡å—çš„ä¿¡ä»»ï¼Œäººå¯¹è½¯ä»¶çš„ä¿¡ä»»ï¼Œäººå¯¹äººçš„ä¿¡ä»»ï¼Œéƒ½æ˜¯å®‰å…¨é—®é¢˜é¢‘å‘çš„åœ°æ–¹ã€‚<br><a id="more"></a></p>
<h2 id="0x02-è¢«è¯å®çš„ä¿¡ä»»å±æœº"><a href="#0x02-è¢«è¯å®çš„ä¿¡ä»»å±æœº" class="headerlink" title="0x02 è¢«è¯å®çš„ä¿¡ä»»å±æœº"></a>0x02 è¢«è¯å®çš„ä¿¡ä»»å±æœº</h2><ul>
<li>XcodeGhostäº‹ä»¶ï¼šå¼€å‘äººå‘˜å¯¹ç¼–è¯‘å™¨çš„ä¿¡ä»»</li>
<li>BadUSBï¼šæ“ä½œç³»ç»Ÿå¯¹å¤–è®¾çš„ä¿¡ä»»</li>
<li>æ¡å½¢ç æ‰«æå™¨æ¼æ´</li>
</ul>
<h2 id="0x03-è¢«æ»¥ç”¨çš„ä¿¡ä»»"><a href="#0x03-è¢«æ»¥ç”¨çš„ä¿¡ä»»" class="headerlink" title="0x03 è¢«æ»¥ç”¨çš„ä¿¡ä»»"></a>0x03 è¢«æ»¥ç”¨çš„ä¿¡ä»»</h2><ul>
<li>æ€æ¯’è½¯ä»¶å¯¹ä¸‹è½½ç«™çš„ä¿¡ä»»ï¼šå„ç§ä¸‹è½½ç«™çš„æ†ç»‘è½¯ä»¶ï¼Œé™é»˜å®‰è£…è¡Œä¸ºæ— ç–‘å…·æœ‰æ¶æ„è½¯ä»¶çš„è¡Œä¸ºç‰¹å¾ï¼Œä½†æ˜¯æ€æ¯’è½¯ä»¶åŸºæœ¬ä¸æŸ¥æ€ï¼Œä¸€æ—¦ä¸‹è½½ç«™è¢«ç§é©¬ï¼Œåæœéå¸¸ä¸¥é‡</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;0x01-ä¿¡ä»»&quot;&gt;&lt;a href=&quot;#0x01-ä¿¡ä»»&quot; class=&quot;headerlink&quot; title=&quot;0x01 ä¿¡ä»»&quot;&gt;&lt;/a&gt;0x01 ä¿¡ä»»&lt;/h2&gt;&lt;p&gt;å¾ˆå¤šå®‰å…¨äº‹ä»¶çš„é—®é¢˜éƒ½å‡ºç°åœ¨ä¿¡ä»»ä¸Šï¼Œä¸Šå±‚æ¨¡å—å¯¹åº•å±‚æ¨¡å—çš„ä¿¡ä»»ï¼Œäººå¯¹è½¯ä»¶çš„ä¿¡ä»»ï¼Œäººå¯¹äººçš„ä¿¡ä»»ï¼Œéƒ½æ˜¯å®‰å…¨é—®é¢˜é¢‘å‘çš„åœ°æ–¹ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="æ‚è°ˆ" scheme="http://blog.nudtcat.org/categories/Chat/"/>
    
    
      <category term="å®‰å…¨" scheme="http://blog.nudtcat.org/tags/%E5%AE%89%E5%85%A8/"/>
    
      <category term="update" scheme="http://blog.nudtcat.org/tags/update/"/>
    
      <category term="ä¿¡ä»»" scheme="http://blog.nudtcat.org/tags/%E4%BF%A1%E4%BB%BB/"/>
    
  </entry>
  
  <entry>
    <title>ä»ä¸€ä¸ªç®€å•çš„RFIDå®‰å…¨äº‹ä»¶è¯´èµ·</title>
    <link href="http://blog.nudtcat.org/RFID/%E4%BB%8E%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84RFID%E5%AE%89%E5%85%A8%E4%BA%8B%E4%BB%B6%E8%AF%B4%E8%B5%B7/"/>
    <id>http://blog.nudtcat.org/RFID/ä»ä¸€ä¸ªç®€å•çš„RFIDå®‰å…¨äº‹ä»¶è¯´èµ·/</id>
    <published>2016-09-25T04:41:49.000Z</published>
    <updated>2016-09-28T01:43:11.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0x01-know-it"><a href="#0x01-know-it" class="headerlink" title="0x01 know it"></a>0x01 know it</h2><p>å­¦æ ¡æ–°å¢äº†ä¸€ä¸ªå¾®ä¿¡æ´—è¡£ç³»ç»Ÿï¼Œç”¨èµ·æ¥ç›¸å½“ç®€å•ï¼Œé¦–å…ˆï¼Œåœ¨ç³»ç»Ÿçš„å¾®ä¿¡å…¬ä¼—å·ä¸Šæ³¨å†Œä¸€ä¸ªè´¦æˆ·ï¼Œè´¦æˆ·æ˜¯ä½¿ç”¨openidä½œä¸ºcookieï¼Œopenidæ˜¯å¾®ä¿¡ç”Ÿæˆçš„ï¼Œåªæœ‰åœ¨å…³æ³¨äº†å…¬ä¼—å·çš„æ—¶å€™æ‰ä¼šäº§ç”Ÿã€‚openidç”±å‡ ä¸ªå› ç´ å†³å®šï¼Œä¸€ä¸ªæ˜¯å…¬ä¼—å·çš„appidï¼Œå¦ä¸€ä¸ªæ˜¯å…³æ³¨è€…çš„å¾®ä¿¡idã€‚openidçš„ä½œç”¨å°±æ˜¯è®©å¾®ä¿¡å…¬ä¼—å·çš„å¼€å‘è€…å”¯ä¸€æ ‡è¯†ä¸€ä¸ªå…³æ³¨è€…ã€‚ç„¶åï¼Œå°†è´¦æˆ·ä¸ä»»ä¸€ä¸€å¼ å¡ç»‘å®šèµ·æ¥(æˆ‘ä»¬å­¦æ ¡æœ‰æ°´å¡å’Œä¸€å¡é€šä¸¤å¼ å¡)ã€‚æ´—è¡£ç³»ç»Ÿçš„å……å€¼ä½¿ç”¨å¾®ä¿¡æ”¯ä»˜ï¼Œä½™é¢è·Ÿç€å¾®ä¿¡èµ°ã€‚<br><a id="more"></a><br>ä¹Ÿå°±æ˜¯è¯´ï¼Œæ•´ä¸ªç»“æ„å°±æ˜¯çº¿ä¸Šå­˜ç€ä½ çš„å„ç§ä¿¡æ¯ä»¥åŠä½™é¢ï¼Œæ€ä¹ˆå»ä½¿ç”¨ä½™é¢æ´—è¡£å‘¢ï¼Ÿå°±ä¾é ä½ æ‰‹ä¸Šçš„å¡ï¼Œè¿™å¼ å¡ä¸ç³»ç»Ÿè¿›è¡Œäº†ç»‘å®šï¼Œæ‹¿åˆ°å¡ï¼Œå°±æ‹¿åˆ°äº†ç³»ç»Ÿçš„é€šè¡Œè¯ã€‚æ´—è¡£çš„æ—¶å€™æ‹¿ç€å¡åœ¨æ´—è¡£æœºç»ˆç«¯ä¸Šåˆ·ä¸€ä¸‹ï¼Œå³å¯éªŒè¯èº«ä»½ï¼Œä½¿ç”¨ä½™é¢ã€‚</p>
<h2 id="0x02-key-point"><a href="#0x02-key-point" class="headerlink" title="0x02 key point"></a>0x02 key point</h2><p>é‚£ä¹ˆå¡ä¸ç³»ç»Ÿæ˜¯æ€ä¹ˆç»‘å®šçš„å‘¢ï¼Ÿåœ¨ç³»ç»Ÿä¸­ï¼Œæ¯ä¸ªè´¦æˆ·éƒ½å¯ä»¥ç»‘å®šä¸€ä¸ªç‰©ç†å¡IDï¼Œå¦‚å›¾æ‰€ç¤ºï¼š<img src="/images/0925_01.png" alt=""><br>å½“ç„¶ï¼Œæ™®é€šäººè‚¯å®šä¸çŸ¥é“ä¸€å¼ å¡çš„ç‰©ç†å¡IDæ˜¯å¤šå°‘ï¼Œäºæ˜¯ï¼Œæ´—è¡£æœºç»ˆç«¯å°±æ‰¿æ‹…äº†è¿™ä¸ªåŠŸèƒ½ã€‚å½“ä¸€å¼ æœªç»‘å®šçš„å¡å»åˆ·æ´—è¡£æœºç»ˆç«¯æ—¶ï¼Œç»ˆç«¯æ˜¾ç¤ºå¦‚ä¸‹</p>
<p><img src="/images/0925_02.png" alt=""></p>
<p>ç„¶ååªéœ€è¦åœ¨ç³»ç»Ÿä¸­ç»‘å®šè¿™ä¸ªç‰©ç†å¡å·å³å¯ã€‚ç»‘å®šåæ­£å¸¸ä½¿ç”¨çš„ç…§ç‰‡å¦‚ä¸‹å›¾<img src="/images/0925_03.png" alt=""></p>
<h2 id="0x03-analysis-it"><a href="#0x03-analysis-it" class="headerlink" title="0x03 analysis it"></a>0x03 analysis it</h2><p>æˆ‘ä»¬é‡ç‚¹åˆ†æä¸€ä¸‹è¿™ä¸ªé‰´æƒè¿‡ç¨‹ï¼Œç³»ç»Ÿä½¿ç”¨ç‰©ç†å¡IDæ¥å”¯ä¸€æ ‡è¯†ç”¨æˆ·ï¼Œè€Œæˆ‘ä»¬ä½¿ç”¨çš„å¡éƒ½æ˜¯M1å¡ï¼ŒM1å¡ä¸­å­˜å‚¨ç€UIDå’Œblockï¼Œblockçš„è®¿é—®æ˜¯éœ€è¦å¯†ç çš„ï¼Œè€Œæ´—è¡£ç³»ç»Ÿå’Œä¸€å¡é€šæ˜¯ä¸åŒçš„å…¬å¸å¼€å‘çš„ï¼Œæ‰€ä»¥è‚¯å®šä¸æ˜¯ä½¿ç”¨blockä¸­å­˜å‚¨çš„æ•°æ®æ¥å”¯ä¸€æ ‡è¯†ç”¨æˆ·ï¼Œè€Œæ¯å¼ M1å¡çš„UIDéƒ½æ˜¯å”¯ä¸€çš„ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡å¯å†™å…¥çš„ç™½å¡å†™å…¥ç›¸åŒçš„UIDã€‚å…³äºRFIDå’ŒM1å¡çš„ç›¸å…³çŸ¥è¯†ä»¥åŠå®‰å…¨æ¼æ´è¯·è‡ªè¡ŒGoogleã€‚æ‰€ä»¥è¿™ä¸ªç‰©ç†å¡IDåº”è¯¥å°±æ˜¯M1å¡çš„UIDã€‚é‚è¯•éªŒä¹‹ï¼Œæœç„¶ï¼Œè¿æœ€ç®€å•çš„æ˜ å°„éƒ½æ²¡æœ‰åš</p>
<p><img src="/images/0925_04.png" alt=""><br><img src="/images/0925_05.png" alt=""></p>
<p>æˆ‘ä»¬çœ‹ä¸Šé¢æ´—è¡£ç»ˆç«¯æ­£å¸¸å·¥ä½œçš„ç…§ç‰‡ï¼Œå‘ç°ç»ˆç«¯å±…ç„¶ç›´æ¥å°†å¡IDèµ¤è£¸è£¸å±•ç¤ºå‡ºæ¥ï¼Œè¿™ä¸æ˜¯ç›´æ¥æŠŠå¯†ç è¾“å‡ºäº†å˜›ï¼</p>
<h2 id="0x04-hack-it"><a href="#0x04-hack-it" class="headerlink" title="0x04 hack it"></a>0x04 hack it</h2><p>åˆ†æåˆ°è¿™é‡Œï¼Œç”¨åˆ«äººçš„ä½™é¢æ´—è¡£å°±éå¸¸å®¹æ˜“äº†ã€‚åªéœ€è¦åœ¨æ´—è¡£ç»ˆç«¯ä¸Šè¯»åˆ°ä¸€å¡é€šå¡å·ï¼ŒæŠŠå®ƒä½œä¸ºUIDå†™å…¥ç™½å¡å³å¯ã€‚</p>
<h2 id="0x05-èººæªçš„å…¶å®ƒç³»ç»Ÿ"><a href="#0x05-èººæªçš„å…¶å®ƒç³»ç»Ÿ" class="headerlink" title="0x05 èººæªçš„å…¶å®ƒç³»ç»Ÿ"></a>0x05 èººæªçš„å…¶å®ƒç³»ç»Ÿ</h2><p>åˆ°è¿™é‡Œå°±ç»“æŸäº†å—ï¼Ÿ</p>
<p>æˆ‘æ›¾ç»ä¸¢å¤±è¿‡è‡ªå·±çš„ä¸€å¡é€šï¼Œè¡¥åŠåå‘ç°åˆšå¼€å§‹çš„ä¸€æ®µæ—¶é—´æ— æ³•æ‰“å¼€é—¨ç¦ã€‚è¿™è¯´æ˜ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿè¡¥åŠçš„ä¸€å¡é€šå’ŒåŸæ¥çš„ä¸€å¡é€šå”¯ä¸€çš„åŒºåˆ«å°±åœ¨UIDä¸Šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¡¥åŠåï¼Œåœ¨ä¸­å¤®æ•°æ®åº“ä¸­ï¼Œæˆ‘çš„UIDæœ‰æ›´æ–°ï¼Œè€Œé—¨ç¦éœ€è¦ä¸€æ®µæ—¶é—´åŒæ­¥æ›´æ–°ï¼Œé‚£ä¹ˆï¼Œé—¨ç¦ä¹Ÿæ˜¯é UIDæ¥è¯†åˆ«èº«ä»½çš„ã€‚</p>
<p>åªæœ‰é—¨ç¦å—ï¼Ÿ</p>
<p>ä¸€ä¸ªå­¦æ ¡çš„ç³»ç»Ÿå„ç§å„æ ·ï¼Œé—¨ç¦ï¼Œé—¸æœºï¼Œå¤šåª’ä½“è®²å°ï¼Œä¸€ä¸ªåŒå­¦æˆ–è€…è€å¸ˆçš„æƒé™éƒ½ç”±ç»Ÿä¸€è®¤è¯ç³»ç»Ÿæ¥ç¡®å®šï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬ä»ç¨‹åºå‘˜å’Œç³»ç»Ÿè®¾è®¡è€…çš„è§’åº¦æ¥æƒ³ï¼Œè¿™ä¸ªç»Ÿä¸€è®¤è¯ç³»ç»Ÿè‚¯å®šç•™äº†APIï¼Œæ¥ä¾›å…¶ä»–ç³»ç»Ÿè°ƒç”¨ï¼Œé‰´æƒã€‚è¿™æ ·çš„è®¾è®¡å®¹æ˜“æ‰©å±•ï¼Œæ›´å®¹æ˜“ä¸å…¶ä»–ç³»ç»Ÿé…åˆï¼Œå®ƒçš„å¸‚åœºç«äº‰åŠ›å°±ä¼šå¼ºã€‚æœç„¶ï¼Œç»è¿‡è¯•éªŒï¼Œå›¾ä¹¦é¦†çš„é—¸æœºä¹Ÿæ˜¯ç”¨UIDæ¥éªŒè¯ï¼Œè€Œä¸”è¿˜ä¼šæ˜¾ç¤ºå‡ºå¡å¯¹åº”çš„åå­—å’Œé™¢ç³»ã€‚</p>
<p>é»‘å®¢æ°¸è¿œæŠµæŠ—ä¸äº†rootæƒé™çš„è¯±æƒ‘ï¼Œå¦‚æœæˆ‘ä»¬èƒ½æ‹¿åˆ°è¿™ä¸ªAPIï¼Œé‚£ä¹ˆã€‚ã€‚ã€‚ã€‚å˜¿å˜¿å˜¿ã€‚ã€‚ã€‚ã€‚</p>
<p>äºæ˜¯å°±æœ‰äº†ä¸‹é¢è¿™å¼ ç…§ç‰‡ï¼ŒæˆåŠŸä¼ªé€ äº†ä¸€å¼ æ ¡é•¿çš„å¡</p>
<p><img src="/images/0925_06.jpg" alt=""></p>
<h2 id="0x06-p-s"><a href="#0x06-p-s" class="headerlink" title="0x06 p.s."></a>0x06 p.s.</h2><p>å…‰æ‹¿åˆ°UIDä¸èƒ½ä¼ªé€ å‡ºå¯ä»¥æ¶ˆè´¹çš„ä¸€å¡é€šï¼Œä¸€å¡é€šçš„æ¶ˆè´¹æ˜¯å®æ—¶æœåŠ¡å™¨æ ¡éªŒçš„ï¼Œè€Œä¸”åœ¨blockä¸­ï¼Œå¯¹ä½™é¢ä»¥åŠèº«ä»½ä¿¡æ¯åšäº†æ‘˜è¦ï¼Œå¦‚æœä¸çŸ¥é“æ‘˜è¦ç®—æ³•ï¼Œæ— æ³•ä¼ªé€ ä¸€å¼ åˆæ³•çš„å¡</p>
<p>M1å¡æ—©å°±è¢«æ›å‡ºåŠ å¯†ç®—æ³•å…·æœ‰é‡å¤§ç¼ºé™·ï¼Œå…·ä½“å¯ä»¥Googleï¼Œè¯»å¡å™¨ä½¿ç”¨çš„æ˜¯ACR122Uã€‚RFIDå®‰å…¨ä¹Ÿæ˜¯å®‰å…¨çš„ä¸€ä¸ªç»´åº¦ï¼Œå›½å†…æœ‰RadioWarå›¢é˜Ÿç ”ç©¶æ¯”è¾ƒæ·±å…¥ã€‚</p>
<h2 id="0x07-æƒ³åˆ°çš„"><a href="#0x07-æƒ³åˆ°çš„" class="headerlink" title="0x07 æƒ³åˆ°çš„"></a>0x07 æƒ³åˆ°çš„</h2><p>å®‰å…¨æ°¸è¿œä¸æ­¢é‚£ä¹ˆç®€å•ï¼Œä¸€ä¸ªå°å°çš„è®¾è®¡ç¼ºé™·â€“æ˜¾ç¤ºäº†å¡çš„UIDï¼Œå¯¼è‡´äº†æ‰€æœ‰åŸºäºUIDçš„é‰´æƒå…¨éƒ¨å´©æºƒã€‚æœ‰çš„æ—¶å€™ï¼Œä¸€ä¸ªå°å£å­ï¼Œå°±èƒ½ç¬é—´å°†ç²¾å¿ƒæ„å»ºçš„å®‰å…¨é˜²æŠ¤ä½“ç³»æ¯äºä¸€æ—¦ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;0x01-know-it&quot;&gt;&lt;a href=&quot;#0x01-know-it&quot; class=&quot;headerlink&quot; title=&quot;0x01 know it&quot;&gt;&lt;/a&gt;0x01 know it&lt;/h2&gt;&lt;p&gt;å­¦æ ¡æ–°å¢äº†ä¸€ä¸ªå¾®ä¿¡æ´—è¡£ç³»ç»Ÿï¼Œç”¨èµ·æ¥ç›¸å½“ç®€å•ï¼Œé¦–å…ˆï¼Œåœ¨ç³»ç»Ÿçš„å¾®ä¿¡å…¬ä¼—å·ä¸Šæ³¨å†Œä¸€ä¸ªè´¦æˆ·ï¼Œè´¦æˆ·æ˜¯ä½¿ç”¨openidä½œä¸ºcookieï¼Œopenidæ˜¯å¾®ä¿¡ç”Ÿæˆçš„ï¼Œåªæœ‰åœ¨å…³æ³¨äº†å…¬ä¼—å·çš„æ—¶å€™æ‰ä¼šäº§ç”Ÿã€‚openidç”±å‡ ä¸ªå› ç´ å†³å®šï¼Œä¸€ä¸ªæ˜¯å…¬ä¼—å·çš„appidï¼Œå¦ä¸€ä¸ªæ˜¯å…³æ³¨è€…çš„å¾®ä¿¡idã€‚openidçš„ä½œç”¨å°±æ˜¯è®©å¾®ä¿¡å…¬ä¼—å·çš„å¼€å‘è€…å”¯ä¸€æ ‡è¯†ä¸€ä¸ªå…³æ³¨è€…ã€‚ç„¶åï¼Œå°†è´¦æˆ·ä¸ä»»ä¸€ä¸€å¼ å¡ç»‘å®šèµ·æ¥(æˆ‘ä»¬å­¦æ ¡æœ‰æ°´å¡å’Œä¸€å¡é€šä¸¤å¼ å¡)ã€‚æ´—è¡£ç³»ç»Ÿçš„å……å€¼ä½¿ç”¨å¾®ä¿¡æ”¯ä»˜ï¼Œä½™é¢è·Ÿç€å¾®ä¿¡èµ°ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="RFID" scheme="http://blog.nudtcat.org/categories/RFID/"/>
    
    
      <category term="RFID" scheme="http://blog.nudtcat.org/tags/RFID/"/>
    
      <category term="å®‰å…¨" scheme="http://blog.nudtcat.org/tags/%E5%AE%89%E5%85%A8/"/>
    
  </entry>
  
  <entry>
    <title>CRLFæ³¨å…¥</title>
    <link href="http://blog.nudtcat.org/WebSecurity/CRLF%E6%B3%A8%E5%85%A5/"/>
    <id>http://blog.nudtcat.org/WebSecurity/CRLFæ³¨å…¥/</id>
    <published>2016-09-25T02:33:16.000Z</published>
    <updated>2016-09-28T03:13:10.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0x01-ç®€ä»‹"><a href="#0x01-ç®€ä»‹" class="headerlink" title="0x01 ç®€ä»‹"></a>0x01 ç®€ä»‹</h2><p>åœ¨HTTPåè®®ä¸­ï¼ŒHTTPè¯·æ±‚ä¸å“åº”çš„å„ä¸ªå­—æ®µä¹‹é—´çš„åˆ†éš”ç¬¦ä¸º\r\nï¼Œå³CRLFã€‚å¦‚æœæˆ‘ä»¬èƒ½åœ¨HTTP<strong>å“åº”</strong>éƒ¨åˆ†æ³¨å…¥CRLFï¼Œå¹¶ä¸”åŠ å…¥è‡ªå·±çš„ä¸€éƒ¨åˆ†ä»£ç ï¼Œæµè§ˆå™¨å°±ä¼šæ¥å—å¹¶ä¸”è§£æHTTPå“åº”ï¼Œå®Œæˆæˆ‘ä»¬æƒ³è¦çš„åŠŸèƒ½ã€‚<br><a id="more"></a></p>
<h2 id="0x02-å±å®³"><a href="#0x02-å±å®³" class="headerlink" title="0x02 å±å®³"></a>0x02 å±å®³</h2><p>èƒ½æ³¨å…¥HTTPå“åº”éƒ¨åˆ†ï¼Œæˆ‘ä»¬èƒ½å¹²å•¥å‘¢ï¼ŸHTTPå“åº”åˆ†ä¸ºheadéƒ¨åˆ†å’Œbodyéƒ¨åˆ†ï¼Œheadéƒ¨åˆ†å„ä¸ªå­—æ®µä¹‹é—´çš„åˆ†éš”æ˜¯\r\nï¼Œheadä¸bodyçš„åˆ†éš”æ˜¯\r\nã€‚æˆ‘ä»¬å¯ä»¥æ³¨å…¥åˆ°bodyä¸­ï¼ŒåŠ å…¥javascriptä»£ç ï¼Œå½¢æˆxssæ”»å‡»ã€‚åªè¦èƒ½æ³¨å…¥ä»£ç åˆ°bodyéƒ¨åˆ†ï¼Œæ‰€æœ‰åœ¨æµè§ˆå™¨å±‚é¢çš„æ”»å‡»éƒ½èƒ½å®è¡Œã€‚</p>
<p>å¦ä¸€ä¸ªå¸¸è§çš„æ”»å‡»æ˜¯æ³¨å…¥å¤´éƒ¨ï¼Œç»™å½“å‰çš„ä¼šè¯è®¾ç½®cookieï¼Œå¦‚æœå­˜åœ¨ä¼šè¯å›ºå®šæ¼æ´ï¼Œé‚£ä¹ˆå°±èƒ½è·å¾—ç”¨æˆ·å¯¹åº”çš„æƒé™ã€‚</p>
<h2 id="0x03-ä¼šè¯å›ºå®šæ¼æ´"><a href="#0x03-ä¼šè¯å›ºå®šæ¼æ´" class="headerlink" title="0x03 ä¼šè¯å›ºå®šæ¼æ´"></a>0x03 ä¼šè¯å›ºå®šæ¼æ´</h2><p>åœ¨CRLFæ³¨å…¥headéƒ¨åˆ†ï¼Œè®¾ç½®cookieåï¼Œå¦‚æœæœåŠ¡å™¨æ¥å—äº†è¿™ä¸ªcookieï¼Œå¹¶ä¸”åœ¨ç”¨æˆ·ç™»å½•åä¸æ”¹å˜è¿™ä¸ªcookieï¼Œé‚£ä¹ˆæ”»å‡»è€…å°±èƒ½ä½¿ç”¨è¿™ä¸ªcookieï¼Œæ‹¿åˆ°å’Œåˆæ³•ç”¨æˆ·ä¸€æ ·çš„æƒé™ã€‚</p>
<h2 id="0x04-æ”»å‡»æ–¹æ³•"><a href="#0x04-æ”»å‡»æ–¹æ³•" class="headerlink" title="0x04 æ”»å‡»æ–¹æ³•"></a>0x04 æ”»å‡»æ–¹æ³•</h2><p>å¸¸è§çš„æ”»å‡»ç‚¹åœ¨é‡å®šå‘çš„åœ°æ–¹ï¼Œå¦‚æœæ²¡åšè¿‡æ»¤æˆ–è€…å…¶å®ƒå®‰å…¨è®¾ç½®ï¼Œç›´æ¥åœ¨è·³è½¬çš„urlååŠ ä¸Š\r\nå’Œè¦æ’å…¥çš„ä»£ç ï¼Œä¾‹å¦‚<a href="http://www.a.com/go.php?target=http://www.b.com\r\n\r\n" target="_blank" rel="external">http://www.a.com/go.php?target=http://www.b.com\r\n\r\n</a><script>alert(xss)</script>å°†è¿™ä¸ªurlå‘é€ç»™è¦æ”»å‡»çš„ç”¨æˆ·ï¼Œtaç‚¹å‡»äº†è¿™ä¸ªé“¾æ¥å°±ä¼šè¢«æ”»å‡»ã€‚åœ¨æ’å…¥xssæ—¶ï¼Œå¯èƒ½ä¼šè¢«æµè§ˆå™¨çš„xss filteré˜»æ­¢ï¼Œåªè¦åœ¨headéƒ¨åˆ†æ’å…¥X-XSS-Protection:0å³å¯ç¦æ­¢æµè§ˆå™¨çš„xssä¿æŠ¤ç­–ç•¥ã€‚å¦å¤–ï¼Œåœ¨locationåé¢çš„javascriptä»£ç åªä¼šåœ¨å†…æ ¸ä¸ºwebkitçš„æµè§ˆå™¨ä¸­è¿è¡Œã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;0x01-ç®€ä»‹&quot;&gt;&lt;a href=&quot;#0x01-ç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;0x01 ç®€ä»‹&quot;&gt;&lt;/a&gt;0x01 ç®€ä»‹&lt;/h2&gt;&lt;p&gt;åœ¨HTTPåè®®ä¸­ï¼ŒHTTPè¯·æ±‚ä¸å“åº”çš„å„ä¸ªå­—æ®µä¹‹é—´çš„åˆ†éš”ç¬¦ä¸º\r\nï¼Œå³CRLFã€‚å¦‚æœæˆ‘ä»¬èƒ½åœ¨HTTP&lt;strong&gt;å“åº”&lt;/strong&gt;éƒ¨åˆ†æ³¨å…¥CRLFï¼Œå¹¶ä¸”åŠ å…¥è‡ªå·±çš„ä¸€éƒ¨åˆ†ä»£ç ï¼Œæµè§ˆå™¨å°±ä¼šæ¥å—å¹¶ä¸”è§£æHTTPå“åº”ï¼Œå®Œæˆæˆ‘ä»¬æƒ³è¦çš„åŠŸèƒ½ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="Webå®‰å…¨" scheme="http://blog.nudtcat.org/categories/WebSecurity/"/>
    
    
      <category term="Webå®‰å…¨" scheme="http://blog.nudtcat.org/tags/Web%E5%AE%89%E5%85%A8/"/>
    
  </entry>
  
  <entry>
    <title>å®½å­—èŠ‚æ³¨å…¥é—®é¢˜</title>
    <link href="http://blog.nudtcat.org/WebSecurity/%E5%AE%BD%E5%AD%97%E8%8A%82%E6%B3%A8%E5%85%A5%E9%97%AE%E9%A2%98/"/>
    <id>http://blog.nudtcat.org/WebSecurity/å®½å­—èŠ‚æ³¨å…¥é—®é¢˜/</id>
    <published>2016-09-25T01:23:19.000Z</published>
    <updated>2016-09-28T03:12:19.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0x00-å®½å­—èŠ‚"><a href="#0x00-å®½å­—èŠ‚" class="headerlink" title="0x00 å®½å­—èŠ‚"></a>0x00 å®½å­—èŠ‚</h2><p>åœ¨ä»£ç æ³¨å…¥æ”»å‡»ä¸­ï¼Œå®½å­—èŠ‚é—®é¢˜å·²ç»æ˜¯è€ç”Ÿå¸¸è°ˆã€‚æ³¨æ„ï¼Œè¿™é‡Œçš„ä»£ç æ³¨å…¥æ˜¯æŒ‡å®½æ³›çš„ä»£ç æ³¨å…¥ï¼š<strong>æ‰€æœ‰çªç ´æ•°æ®ä¸ä»£ç è¾¹ç•Œï¼Œä½¿æ•°æ®æ³¨å…¥ä»£ç æ®µï¼Œå˜æˆå¯æ‰§è¡Œä»£ç </strong>çš„æ”»å‡»æ‰‹æ³•éƒ½å¯ä»¥å«ä»£ç æ³¨å…¥ï¼ŒåŒ…æ‹¬SQLæ³¨å…¥å’ŒXSSã€‚å•¥æ˜¯å®½å­—èŠ‚å‘¢ï¼Ÿå…¶å®å°±æ˜¯ç”¨å¤šä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ã€‚<br><a id="more"></a></p>
<h2 id="0x01-å¦ä¸€ä¸ªè§’åº¦çœ‹MySQLçš„å®½å­—èŠ‚æ³¨å…¥é—®é¢˜"><a href="#0x01-å¦ä¸€ä¸ªè§’åº¦çœ‹MySQLçš„å®½å­—èŠ‚æ³¨å…¥é—®é¢˜" class="headerlink" title="0x01 å¦ä¸€ä¸ªè§’åº¦çœ‹MySQLçš„å®½å­—èŠ‚æ³¨å…¥é—®é¢˜"></a>0x01 å¦ä¸€ä¸ªè§’åº¦çœ‹MySQLçš„å®½å­—èŠ‚æ³¨å…¥é—®é¢˜</h2><p>å…ˆè¯´è¯´MySQLä¸­çš„å®½å­—èŠ‚æ³¨å…¥ï¼ŒMySQLåœ¨æ¥å—åˆ°phpä¼ æ¥çš„SQLè¯­å¥æ—¶ï¼Œä¼šä½¿ç”¨MySQLè®¾ç½®ä¸­çš„character_set_clientè®¾ç½®å€¼è¿›è¡Œç¼–ç ã€‚è€Œå¦‚æœcharacter_set_clientæ˜¯ä¸€ä¸ªå®½å­—ç¬¦é›†ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šå°†SQLè¯­å¥ä¸­çš„å¤šä¸ªå­—èŠ‚ç¼–ç æˆä¸€ä¸ªå­—ç¬¦ï¼Œè¿™æ ·å°±æ”¹å˜äº†SQLè¯­å¥çš„åŸæ„ã€‚æˆ‘ä»¬å¯¹è¿™ä¸ªç¼–ç å‰çš„SQLè¯­å¥ç¨åŠ æ§åˆ¶ï¼Œä½¿ç¼–ç ç¼–æ‰ä¸€äº›å­—ç¬¦ï¼Œæ¯”å¦‚\ï¼Œè¿™æ ·å°±èƒ½ç»•è¿‡phpå±‚çš„å®‰å…¨ç­–ç•¥ã€‚è¯´èµ·æ¥å¯èƒ½ç•¥æŠ½è±¡ï¼Œä¸‹é¢æ‰“ä¸€ä¸ªç®€å•çš„æ¯”æ–¹ã€‚</p>
<p>å®éªŒç¯å¢ƒï¼šmagic_quotes_gpc=Offï¼Œphpä»£ç å¦‚ä¸‹<br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">$a=$_GET[<span class="string">'a'</span>];</div><div class="line">$a=addslashes($a);</div><div class="line"><span class="keyword">print</span> <span class="string">"select * from admin where name='"</span>.$a.<span class="string">"'"</span>;</div></pre></td></tr></table></figure></p>
<p>ä»£ç éå¸¸ç®€å•ï¼Œå°†ä¼ å…¥çš„aä½¿ç”¨addslasheså‡½æ•°è½¬ä¹‰ï¼Œè½¬ä¹‰æ‰å•å¼•å·ç­‰å­—ç¬¦ã€‚æˆ‘ä»¬è¯·æ±‚<a href="http://115.28.188.93/1.php?a=admin%df" target="_blank" rel="external">http://115.28.188.93/1.php?a=admin%df</a>â€˜ and 1=1 â€“ sæŠ“åŒ…ï¼Œçœ‹åˆ°çš„å“åº”å¦‚ä¸‹å›¾<br><img src="/images/0924_01.png" alt=""><br>çº¢è‰²æ¡†ä¸­è¢«é€‰ä¸­çš„å†…å®¹å°±æ˜¯å“åº”çš„å†…å®¹ï¼Œè¿™ä¸ªæ˜¯äºŒè¿›åˆ¶çš„ï¼Œå¯ä»¥çœ‹åšæ˜¯SQLè¯­å¥åœ¨ä¼ ç»™MySQLçš„æ—¶å€™çš„çŠ¶æ€ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæµè§ˆå™¨çš„è¿”å›æ—¶è¿™æ ·çš„(æµè§ˆå™¨ç¼–ç è®¾ç½®ä¸ºUTF-8)<br><img src="/images/0924_02.png" alt=""></p>
<p>åœ¨è¿™é‡Œï¼Œæµè§ˆå™¨è®¾ç½®çš„ç¼–ç ç›¸å½“äºMySQLçš„character_set_clientï¼Œæµè§ˆå™¨ä¼šå¯¹httpå“åº”çš„éƒ¨åˆ†åšç¼–ç ï¼ŒMySQLä¹Ÿæ˜¯ä¸€æ ·ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å‘ç°æˆ‘ä»¬è¯·æ±‚ä¸­çš„å•å¼•å·å·²ç»è¢«è½¬ä¹‰äº†ï¼Œæ— æ³•å½¢æˆSQLæ³¨å…¥ã€‚æˆ‘ä»¬æŠŠæµè§ˆå™¨ç¼–ç è®¾ç½®ä¸ºgbkï¼Œå†çœ‹çœ‹<br><img src="/images/0924_03.png" alt=""></p>
<p>è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å‘ç°\ä¸è§äº†ï¼Œæˆ‘ä»¬æ’å…¥çš„å•å¼•å·æˆåŠŸé—­åˆäº†å‰é¢çš„å•å¼•å·ï¼Œand 1=1å·²ç»æ’å…¥åˆ°äº†SQLè¯­å¥ä»£ç éƒ¨åˆ†ï¼Œèƒ½å½±å“SQLè¯­å¥çš„é€»è¾‘ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬ç›¸å½“äºæŠŠMySQLçš„character_set_clientè®¾ç½®æˆäº†gbkï¼ŒæˆåŠŸå¼•å‘äº†å®½å­—èŠ‚çš„æ³¨å…¥é—®é¢˜ï¼Œè¿™å°±æ˜¯æ•´ä¸ªæ•°æ®æµçš„æµå‘ï¼Œæœ€å¤æ‚çš„ä¸€éƒ¨åˆ†å·²ç»å¼„æ¸…æ¥šäº†ï¼Œä¸‹é¢å°±æ˜¯ä¸€äº›ç»†èŠ‚é—®é¢˜äº†ã€‚</p>
<p>åœ¨admin%dfâ€™è¢«addslashesåï¼Œç»“æœæ˜¯admin%df\â€™,ä¹Ÿå°±æ˜¯admin%df%5c%27,è€Œå°†å…¶è½¬æ¢ä¸ºgbkç¼–ç åï¼Œ%df%5cä»£è¡¨ä¸€ä¸ªä¸­æ–‡å­—ç¬¦ï¼Œç„¶åå°±è¢«ç¼–ç æˆé‹ï¼Œå–œé—»ä¹è§çš„ï¼Œæˆ‘ä»¬çš„å•å¼•å·å°±è¢«æ’å…¥äº†ã€‚</p>
<p>(é¢˜å¤–è¯ï¼šä¸åŒæµè§ˆå™¨åœ¨å¾—åˆ°ä¸€ä¸ªæ²¡æœ‰æŒ‡å®šç¼–ç çš„htmlå“åº”æ—¶å¯èƒ½ä¼šé‡‡ç”¨ä¸åŒçš„ç¼–ç ï¼Œæˆ‘çš„Chromeå’ŒFirefoxå°±æ˜¯è¿™æ ·ã€‚æ‰€ä»¥ï¼Œè¯·æ‰‹åŠ¨è®¾ç½®ç¼–ç æ–¹å¼)</p>
<p>å“ªäº›èŒƒå›´ä¼šè¢«gbkç¼–ç æˆæ±‰å­—å‘¢ï¼Ÿæ ¹æ®gbkç¼–ç ï¼Œç¬¬ä¸€ä¸ªå­—èŠ‚asciiç å¤§äº128ï¼ŒåŸºæœ¬ä¸Šå°±å¯ä»¥äº†ã€‚å¦‚æœcharacter_set_clientæ˜¯gb2312ï¼Œèƒ½ä¸èƒ½æˆåŠŸå‘¢ï¼Ÿç†è®ºä¸Šæ¥è¯´ï¼Œåªè¦\ï¼Œä¹Ÿå°±æ˜¯%5cåœ¨æŸäº›å­—ç¬¦é›†çš„ä½ä½ä¸­ï¼Œéƒ½æ˜¯å¯ä»¥çš„ï¼Œä¸å·§ï¼Œgb2312çš„ä½ä½èŒƒå›´æ˜¯0xA1~0xFEï¼Œæ‰€ä»¥ä¸å¯ä»¥ã€‚</p>
<h2 id="0x03-åˆè¡·"><a href="#0x03-åˆè¡·" class="headerlink" title="0x03 åˆè¡·"></a>0x03 åˆè¡·</h2><p>æˆ‘ä¸ºå•¥å†™è¿™ç¯‡æ–‡ç« ï¼Ÿphithonåœ¨Freebufä¸Šçš„<a href="http://www.freebuf.com/articles/web/31537.html" target="_blank" rel="external">æµ…æç™½ç›’å®¡è®¡ä¸­çš„å­—ç¬¦ç¼–ç åŠSQLæ³¨å…¥</a>å†™å¾—éå¸¸å¥½ï¼Œä½†æ˜¯æˆ‘è®¤ä¸ºåœ¨SQLè¯­å¥çš„æµå‘æ–¹é¢å†™å¾—ä¸å¤Ÿè¯¦ç»†ï¼Œæˆ‘åšäº†ä¸€ç‚¹è¡¥å……ï¼Œå…¶ä½™å†…å®¹è¯·å‚çœ‹phithonå¤§ç¥çš„æ–‡ç« ã€‚å¦‚æœæœ‰ä»€ä¹ˆä¸æ˜ç™½ï¼Œé‚£å¤šåŠæ˜¯SQLè¯­å¥çš„æµå‘ä»¥åŠç¼–ç çŠ¶æ€ä¸æ˜ç™½ï¼Œå¯ä»¥å‚è€ƒæˆ‘ä¸Šé¢æµè§ˆå™¨ç¼–ç çš„æ¯”å–»ã€‚</p>
<h2 id="0x04-æ„è¯†"><a href="#0x04-æ„è¯†" class="headerlink" title="0x04 æ„è¯†"></a>0x04 æ„è¯†</h2><p>ç©å„¿è‹±é›„è”ç›Ÿçš„äººéƒ½çŸ¥é“ï¼Œæ„è¯†æœ€ä¸ºé‡è¦ã€‚åšå®‰å…¨ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæ„è¯†æœ¬è´¨ä¸Šæ˜¯å®‰å…¨è§‚ã€‚å®½å­—èŠ‚çš„é—®é¢˜ï¼Œæœ‰å¯èƒ½æ”¹å¤´æ¢é¢å‡ºç°åœ¨å¦ä¸€ä¸ªåœ°æ–¹ï¼Œå°±çœ‹ä¸‹æ¬¡é‡åˆ°çš„æ—¶å€™ï¼Œè°èƒ½æ€è€ƒå¾—æ·±ï¼Œçœ‹åˆ°æ›´å†…åœ¨çš„ä¸œè¥¿äº†ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;0x00-å®½å­—èŠ‚&quot;&gt;&lt;a href=&quot;#0x00-å®½å­—èŠ‚&quot; class=&quot;headerlink&quot; title=&quot;0x00 å®½å­—èŠ‚&quot;&gt;&lt;/a&gt;0x00 å®½å­—èŠ‚&lt;/h2&gt;&lt;p&gt;åœ¨ä»£ç æ³¨å…¥æ”»å‡»ä¸­ï¼Œå®½å­—èŠ‚é—®é¢˜å·²ç»æ˜¯è€ç”Ÿå¸¸è°ˆã€‚æ³¨æ„ï¼Œè¿™é‡Œçš„ä»£ç æ³¨å…¥æ˜¯æŒ‡å®½æ³›çš„ä»£ç æ³¨å…¥ï¼š&lt;strong&gt;æ‰€æœ‰çªç ´æ•°æ®ä¸ä»£ç è¾¹ç•Œï¼Œä½¿æ•°æ®æ³¨å…¥ä»£ç æ®µï¼Œå˜æˆå¯æ‰§è¡Œä»£ç &lt;/strong&gt;çš„æ”»å‡»æ‰‹æ³•éƒ½å¯ä»¥å«ä»£ç æ³¨å…¥ï¼ŒåŒ…æ‹¬SQLæ³¨å…¥å’ŒXSSã€‚å•¥æ˜¯å®½å­—èŠ‚å‘¢ï¼Ÿå…¶å®å°±æ˜¯ç”¨å¤šä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="Webå®‰å…¨" scheme="http://blog.nudtcat.org/categories/WebSecurity/"/>
    
    
      <category term="Webå®‰å…¨" scheme="http://blog.nudtcat.org/tags/Web%E5%AE%89%E5%85%A8/"/>
    
      <category term="SQLæ³¨å…¥" scheme="http://blog.nudtcat.org/tags/SQL%E6%B3%A8%E5%85%A5/"/>
    
      <category term="å®½å­—èŠ‚" scheme="http://blog.nudtcat.org/tags/%E5%AE%BD%E5%AD%97%E8%8A%82/"/>
    
  </entry>
  
  <entry>
    <title>Pythonè£…é¥°å™¨</title>
    <link href="http://blog.nudtcat.org/Python/Python%E8%A3%85%E9%A5%B0%E5%99%A8/"/>
    <id>http://blog.nudtcat.org/Python/Pythonè£…é¥°å™¨/</id>
    <published>2016-09-24T03:36:54.000Z</published>
    <updated>2016-09-28T03:13:23.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0x00-è¯­æ³•ç³–"><a href="#0x00-è¯­æ³•ç³–" class="headerlink" title="0x00 è¯­æ³•ç³–"></a>0x00 è¯­æ³•ç³–</h2><p>è£…é¥°å™¨æ˜¯Pythonä¸€ä¸ªè¯­æ³•ç³–ï¼Œè£…é¥°å™¨å°±æ˜¯åœ¨ä¸æ”¹å˜åŸå‡½æ•°çš„åŸºç¡€ä¸Šï¼Œåœ¨åŸå‡½æ•°å‰åæ‰§è¡Œä¸€äº›ä»£ç ï¼Œå°±å¥½åƒåœ¨åŸå‡½æ•°ä¸Šå¢åŠ äº†ä¸€äº›è£…é¥°å“ä¸€æ ·ã€‚è¿™ä¸ªè¯­æ³•èƒ½éå¸¸æ–¹ä¾¿ç»™ä¸€ä¸ªå‡½æ•°å¢åŠ ä¸€äº›åŠŸèƒ½ï¼Œä¾‹å¦‚æƒé™æ§åˆ¶ï¼Œæ ¡éªŒä¸€ä¸ªå‡½æ•°çš„è¾“å…¥ç­‰ã€‚<br><a id="more"></a></p>
<h2 id="0x01-è¯­æ³•åŸç†"><a href="#0x01-è¯­æ³•åŸç†" class="headerlink" title="0x01 è¯­æ³•åŸç†"></a>0x01 è¯­æ³•åŸç†</h2><h3 id="æœ€ç®€å•çš„æƒ…å†µ"><a href="#æœ€ç®€å•çš„æƒ…å†µ" class="headerlink" title="æœ€ç®€å•çš„æƒ…å†µ"></a>æœ€ç®€å•çš„æƒ…å†µ</h3><p>è£…é¥°ä¸€ä¸ªæœ‰å‚æ•°çš„å‡½æ•°<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">debug</span><span class="params">(func)</span>:</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(*args,**kwargs)</span>:</span></div><div class="line">		res=func(*args,**kwargs)</div><div class="line">		<span class="keyword">print</span> <span class="string">"function "</span>+func.__name__+<span class="string">" return "</span>+str(res)</div><div class="line">		<span class="keyword">return</span> res</div><div class="line">	<span class="keyword">return</span> wrapper</div><div class="line"></div><div class="line"><span class="meta">@debug</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span><span class="params">(a, b)</span>:</span></div><div class="line">	<span class="keyword">return</span> a + b</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__==<span class="string">"__main__"</span>:</div><div class="line">	<span class="keyword">print</span> sum(<span class="number">1</span>,<span class="number">3</span>)</div></pre></td></tr></table></figure></p>
<p>è¿è¡Œç»“æœ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">function sum return 4</div><div class="line">4</div></pre></td></tr></table></figure></p>
<p>è¿™é‡Œå±•ç¤ºäº†è£…é¥°å™¨æœ€åŸºæœ¬çš„ä½¿ç”¨ï¼Œç»™sumå‡½æ•°æ·»åŠ äº†debugè¿™ä¸ªè£…é¥°ï¼Œè¿™ä¸ªè£…é¥°å™¨åœ¨sumå‡½æ•°è°ƒç”¨ä¹‹åè¾“å‡ºäº†å‡½æ•°åå’Œè¿”å›å€¼æ–¹ä¾¿è°ƒè¯•ã€‚æˆ‘ä»¬çœ‹ä¸€ä¸‹è¿™ä¸ªè¯­æ³•ç³–çš„çœŸé¢ç›®ã€‚<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">debug</span><span class="params">(func)</span>:</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(*args,**kwargs)</span>:</span></div><div class="line">		res=func(*args,**kwargs)</div><div class="line">		<span class="keyword">print</span> <span class="string">"function "</span>+func.__name__+<span class="string">" return "</span>+str(res)</div><div class="line">		<span class="keyword">return</span> res</div><div class="line">	<span class="keyword">return</span> wrapper</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span><span class="params">(a, b)</span>:</span></div><div class="line">	<span class="keyword">return</span> a + b</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__==<span class="string">"__main__"</span>:</div><div class="line">	<span class="keyword">print</span> debug(sum)(<span class="number">1</span>,<span class="number">3</span>)</div><div class="line">	<span class="keyword">print</span> <span class="string">"==== function ===="</span></div><div class="line">	<span class="keyword">print</span> debug</div><div class="line">	<span class="keyword">print</span> debug(sum)</div></pre></td></tr></table></figure></p>
<p>è¿è¡Œç»“æœä¸º<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">function sum return 4</div><div class="line">4</div><div class="line">==== function ====</div><div class="line">&lt;function debug at 0x1044c0de8&gt;</div><div class="line">&lt;function wrapper at 0x1044c0ed8&gt;</div></pre></td></tr></table></figure></p>
<p>åœ¨æœ‰è£…é¥°å™¨çš„æ—¶å€™ï¼Œè°ƒç”¨sum(1,3)ç›¸å½“äºè°ƒç”¨äº†debug(sum)(1,3)ã€‚æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹debug(sum)(1,3)è¿™ä¸ªè°ƒç”¨ã€‚åœ¨Pythonä¸­ï¼Œä¸‡ç‰©çš†å¯¹è±¡ï¼Œç±»æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ–¹æ³•ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚ä¾‹å¦‚ï¼š<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span><span class="params">(a, b)</span>:</span></div><div class="line">	<span class="keyword">return</span> a + b</div></pre></td></tr></table></figure></p>
<p>å®šä¹‰äº†ä¸€ä¸ªsumæ–¹æ³•ï¼ŒåŒæ—¶ï¼Œsumä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒçš„ç±»å‹æ˜¯å‡½æ•°ã€‚sumçš„å€¼æ˜¯ä¸€ä¸ªå…¥å£åœ¨æŸåœ°å€çš„å‡½æ•°ã€‚sum(1,2)å°±æ˜¯å¯¹è¿™ä¸ªå‡½æ•°çš„è°ƒç”¨ã€‚æˆ‘ä»¬å›åˆ°debug(sum)(1,3)è¿™ä¸ªå‡½æ•°è°ƒç”¨ï¼Œé¦–å…ˆè°ƒç”¨äº†debugè¿™ä¸ªå‡½æ•°ï¼Œå®ƒçš„å‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬æ ¹æ®<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">debug</span><span class="params">(func)</span>:</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(*args,**kwargs)</span>:</span></div><div class="line">		res=func(*args,**kwargs)</div><div class="line">		<span class="keyword">print</span> <span class="string">"function "</span>+func.__name__+<span class="string">" return "</span>+str(res)</div><div class="line">		<span class="keyword">return</span> res</div><div class="line">	<span class="keyword">return</span> wrapper</div></pre></td></tr></table></figure></p>
<p>return wrapperè¡¨ç¤ºè¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå³debug(sum)(1,3)ç›¸å½“äºwrapper(1,3)ã€‚wrapper(1,3)å³å¯¹wrapperå‡½æ•°çš„è°ƒç”¨ã€‚è¿™æ ·ï¼ŒæŠŠè£…é¥°å™¨å‡½æ•°çš„å®šä¹‰å’Œè¯­æ³•ç³–èƒŒåçš„ä»£ç ç»“åˆç†è§£ï¼Œå¾ˆå®¹æ˜“ç†è§£è£…é¥°å™¨è¿™ä¸ªæ¦‚å¿µå’Œ@debugè¿™æ ·çš„è¯­æ³•ã€‚</p>
<h3 id="å¸¦å‚æ•°çš„æƒ…å†µ"><a href="#å¸¦å‚æ•°çš„æƒ…å†µ" class="headerlink" title="å¸¦å‚æ•°çš„æƒ…å†µ"></a>å¸¦å‚æ•°çš„æƒ…å†µ</h3><p>è£…é¥°å™¨ä¹Ÿå¯ä»¥å¸¦å‚æ•°ï¼Œè¿™é‡Œå¯èƒ½æ¯”ä¸Šé¢ç¨å¾®å¤æ‚ä¸€ç‚¹ï¼Œå¦‚æœä¸Šé¢çš„è¿˜æœ‰ä¸€ç‚¹ç–‘æƒ‘ï¼Œå¤šçœ‹ä¸¤éï¼Œåœ¨çœ‹æ¥ä¸‹æ¥çš„ã€‚<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">is_debug=<span class="keyword">True</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">debug</span><span class="params">(is_debug)</span>:</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(func)</span>:</span></div><div class="line">		<span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">(*args,**kwargs)</span>:</span></div><div class="line">			res=func(*args,**kwargs)</div><div class="line">			<span class="keyword">if</span>(is_debug):</div><div class="line">				<span class="keyword">print</span> <span class="string">"function "</span> + func.__name__ + <span class="string">" return "</span> + str(res)</div><div class="line">			<span class="keyword">return</span> res</div><div class="line">		<span class="keyword">return</span> inner</div><div class="line">	<span class="keyword">return</span> wrapper</div><div class="line"></div><div class="line"><span class="meta">@debug(is_debug)</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span><span class="params">(a, b)</span>:</span></div><div class="line">	<span class="keyword">return</span> a + b</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__==<span class="string">"__main__"</span>:</div><div class="line">	<span class="keyword">print</span> sum(<span class="number">1</span>,<span class="number">3</span>)</div></pre></td></tr></table></figure></p>
<p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªå…¨å±€å˜é‡is_debugæ¥æ§åˆ¶æ˜¯å¦è¾“å‡ºdebugä¿¡æ¯ï¼Œè¿™ä¸ªå€¼æ˜¯è£…é¥°å™¨çš„å‚æ•°ã€‚æ„Ÿè§‰åœ¨è£…é¥°å™¨å®šä¹‰å¤šå±‚å‡½æ•°ï¼Œè¿˜æœ‰ä¸åŒçš„å‚æ•°ï¼Œå®Œå…¨åˆ†ä¸æ¸…å•Šæœ‰æœ¨æœ‰!<br>æˆ‘ä»¬æ¥çœ‹ä¸ä¸Šé¢ç­‰ä»·çš„è°ƒç”¨<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">is_debug=<span class="keyword">True</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">debug</span><span class="params">(is_debug)</span>:</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(func)</span>:</span></div><div class="line">		<span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">(*args,**kwargs)</span>:</span></div><div class="line">			res=func(*args,**kwargs)</div><div class="line">			<span class="keyword">if</span>(is_debug):</div><div class="line">				<span class="keyword">print</span> <span class="string">"function "</span> + func.__name__ + <span class="string">" return "</span> + str(res)</div><div class="line">			<span class="keyword">return</span> res</div><div class="line">		<span class="keyword">return</span> inner</div><div class="line">	<span class="keyword">return</span> wrapper</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span><span class="params">(a, b)</span>:</span></div><div class="line">	<span class="keyword">return</span> a + b</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__==<span class="string">"__main__"</span>:</div><div class="line">	<span class="keyword">print</span> debug(is_debug)(sum)(<span class="number">1</span>,<span class="number">3</span>)</div><div class="line">	<span class="keyword">print</span> <span class="string">"==== function ===="</span></div><div class="line">	<span class="keyword">print</span> debug</div><div class="line">	<span class="keyword">print</span> debug(is_debug)</div><div class="line">	<span class="keyword">print</span> debug(is_debug)(sum)</div></pre></td></tr></table></figure></p>
<p>ä¸‹é¢æ˜¯è¿è¡Œç»“æœ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">function sum return 4</div><div class="line">4</div><div class="line">==== function ====</div><div class="line">&lt;function debug at 0x10b079e60&gt;</div><div class="line">&lt;function wrapper at 0x10b079f50&gt;</div><div class="line">&lt;function inner at 0x10b08e050&gt;</div></pre></td></tr></table></figure></p>
<p>å…¶å®ï¼Œçœ‹æ‡‚è¿™ä¸ªè°ƒç”¨çš„æ–¹æ³•è·Ÿä¸Šé¢æ˜¯ä¸€æ ·çš„ã€‚ä¸å†èµ˜è¿°ï¼Œå€¼å¾—ä¸€æçš„æ˜¯è¿™é‡Œï¼Œå…¶å®debug(is_debug)è¿”å›çš„è¿™ä¸ªå‡½æ•°å¯ä»¥è®¤ä¸ºæ˜¯å¦ä¸€ä¸ªæ²¡æœ‰å‚æ•°çš„è£…é¥°å™¨ï¼Œç„¶åæ•´ä¸ªç»“æ„å°±ä¸Šé¢æ²¡æœ‰å‚æ•°çš„æƒ…å†µä¸€æ ·äº†ã€‚è¿™ä¸ªæ–°çš„è£…é¥°å™¨çš„å‚æ•°æ˜¯å‡½æ•°ï¼Œå³debug(is_debug)(sum)ï¼Œç„¶åè¿”å›ä¸€ä¸ªå‚æ•°æ˜¯<em>args,*</em>kwargsçš„å‡½æ•°ï¼Œå†è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œå‚æ•°ä¸º1ï¼Œ3ã€‚å³å®Œæˆæ•´ä¸ªè°ƒç”¨ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;0x00-è¯­æ³•ç³–&quot;&gt;&lt;a href=&quot;#0x00-è¯­æ³•ç³–&quot; class=&quot;headerlink&quot; title=&quot;0x00 è¯­æ³•ç³–&quot;&gt;&lt;/a&gt;0x00 è¯­æ³•ç³–&lt;/h2&gt;&lt;p&gt;è£…é¥°å™¨æ˜¯Pythonä¸€ä¸ªè¯­æ³•ç³–ï¼Œè£…é¥°å™¨å°±æ˜¯åœ¨ä¸æ”¹å˜åŸå‡½æ•°çš„åŸºç¡€ä¸Šï¼Œåœ¨åŸå‡½æ•°å‰åæ‰§è¡Œä¸€äº›ä»£ç ï¼Œå°±å¥½åƒåœ¨åŸå‡½æ•°ä¸Šå¢åŠ äº†ä¸€äº›è£…é¥°å“ä¸€æ ·ã€‚è¿™ä¸ªè¯­æ³•èƒ½éå¸¸æ–¹ä¾¿ç»™ä¸€ä¸ªå‡½æ•°å¢åŠ ä¸€äº›åŠŸèƒ½ï¼Œä¾‹å¦‚æƒé™æ§åˆ¶ï¼Œæ ¡éªŒä¸€ä¸ªå‡½æ•°çš„è¾“å…¥ç­‰ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="Python" scheme="http://blog.nudtcat.org/categories/Python/"/>
    
    
      <category term="Python" scheme="http://blog.nudtcat.org/tags/Python/"/>
    
      <category term="è£…é¥°å™¨" scheme="http://blog.nudtcat.org/tags/%E8%A3%85%E9%A5%B0%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>ä¸€ä¸ªç®€å•çš„çˆ¬è™«</title>
    <link href="http://blog.nudtcat.org/Python/%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84%E7%88%AC%E8%99%AB/"/>
    <id>http://blog.nudtcat.org/Python/ä¸€ä¸ªç®€å•çš„çˆ¬è™«/</id>
    <published>2016-09-24T03:31:03.000Z</published>
    <updated>2016-09-28T03:12:46.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0x01-åˆè¡·"><a href="#0x01-åˆè¡·" class="headerlink" title="0x01 åˆè¡·"></a>0x01 åˆè¡·</h2><p>æœ€è¿‘å‡†å¤‡å¼€å§‹å†™ä¸€äº›é€šç”¨çš„è‡ªåŠ¨åŒ–å·¥å…·ï¼Œä»¥å‰ä¹Ÿå†™è¿‡ä¸€äº›è‡ªåŠ¨åŒ–çš„ä¸œè¥¿ï¼Œä¸è¿‡éƒ½æ˜¯ç”¨èƒ¶æ°´æŠŠä¸€äº›ç°æˆçš„å·¥å…·ç²˜è¿èµ·æ¥è€Œå·²ã€‚è‡ªå·±å¼€å§‹å†™å·¥å…·å¹¶ä¸åªæ˜¯é€ è½®å­ï¼Œæˆ‘å¸Œæœ›æŠŠå°½è‡ªå·±æœ€å¤§çš„åŠªåŠ›ï¼Œæ¯ä¸€ä¸ªæ¨¡å—éƒ½åšåˆ°æœ€ç»†è‡´ï¼Œè§„åˆ™åšåˆ°æœ€å¥½ï¼Œæ‰€ä»¥è¿™ä¸ªprojectä¼šæŒç»­å¾ˆé•¿çš„æ—¶é—´ï¼Œè€Œä¸”æœ‰å¯èƒ½ä¼šé‡æ„å¾ˆå¤šæ¬¡ã€‚<br><a id="more"></a></p>
<h2 id="0x02-è®¾è®¡"><a href="#0x02-è®¾è®¡" class="headerlink" title="0x02 è®¾è®¡"></a>0x02 è®¾è®¡</h2><p>è¿™ä¸ªçˆ¬è™«çš„ä½œç”¨æ˜¯ä»ä¸€ä¸ªç½‘é¡µä½œä¸ºå¼€å§‹ï¼Œçˆ¬å–ç›¸å…³è”çš„ç½‘é¡µã€‚éœ€è¦æ³¨æ„çš„æœ‰å‡ ä¸ªç‚¹ï¼Œä¸€æ˜¯ä»htmlä¸­è·å–é“¾æ¥ï¼Œä½¿ç”¨æœ‰å¾ˆå¤šç§æ–¹æ³•éƒ½å¯ä»¥å½¢æˆé“¾æ¥çš„æ•ˆæœï¼Œè·å–é“¾æ¥åŒæ ·æœ‰å¾ˆå¤šè§£å†³æ–¹æ¡ˆã€‚äºŒæ˜¯å¤šçº¿ç¨‹é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ç®€å•çš„çº¿ç¨‹æ± ï¼Œé‡ç‚¹åœ¨äºå¤šçº¿ç¨‹ä¸‹çš„åŒæ­¥å’Œäº’æ–¥çš„é—®é¢˜ã€‚æˆ‘åœ¨<a href="http://blog.nudtcat.org/default/%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85%E9%97%AE%E9%A2%98%E7%9A%84Python%E5%AE%9E%E7%8E%B0/">ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜çš„Pythonå®ç°</a>ä¸­è¯´åˆ°è¿‡ï¼Œå…¶å®é“¾æ¥é˜Ÿåˆ—å°±æ˜¯è¿™ä¸ªæ¨¡å‹ï¼Œè§£ææ¨¡å—ä¸åœç”Ÿäº§é“¾æ¥ï¼Œæ’å…¥queueï¼Œrequestæ¨¡å—ä¸åœä»queueä¸­è·å–é“¾æ¥ï¼Œç„¶åå°†htmläº¤ç»™è§£ææ¨¡å—ã€‚è§£å†³æ–¹æ³•å¯ä»¥çœ‹è¿™ç¯‡æ–‡ç« ã€‚ä¸‰æ˜¯é“¾æ¥å»é‡é—®é¢˜ï¼Œæœ€å·®çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œå¦‚æœé“¾æ¥ä¸å¤šï¼Œå†…å­˜è¶³å¤Ÿï¼Œæ—¶é—´å¤æ‚åº¦å¯ä»¥åˆ°O(1)ï¼Œä½†æ˜¯æ€ä¹ˆåœ¨å¤§æ•°é‡çº§çš„æƒ…å†µä¸‹å¿«é€Ÿåˆ¤æ–­ä¸€ä¸ªé“¾æ¥æ˜¯å¦é‡å¤ï¼Œæ˜¯ä¸€ä¸ªéš¾é¢˜ï¼Œä½†æ˜¯ä¹Ÿæœ‰ç°æˆçš„è§£å†³æ–¹æ¡ˆã€‚å¦ä¸€ä¸ªé—®é¢˜æ˜¯å…·ä½“çš„è§„åˆ™ï¼ŒåŒä¸€ä¸ªé¡µé¢ï¼Œä¸åŒçš„é”šç‚¹å¯ä»¥è¢«ä¼˜åŒ–ä¸ºåªçˆ¬å–ä¸€æ¬¡ã€‚</p>
<p>ä»¥ä¸Šçš„ä¸‰ä¸ªé—®é¢˜ï¼Œæ¯ä¸ªé—®é¢˜éƒ½å¯ä»¥ä½œä¸ºå•ç‹¬ä¸€ä¸ªprojectæ·±å…¥ç ”ç©¶ä¸‹å»ï¼Œä½†æ˜¯é‚£å°±æ˜¯software engineerçš„èŒƒç•´äº†ã€‚</p>
<h2 id="0x03-ç®€å•çš„è®¾è®¡"><a href="#0x03-ç®€å•çš„è®¾è®¡" class="headerlink" title="0x03 ç®€å•çš„è®¾è®¡"></a>0x03 ç®€å•çš„è®¾è®¡</h2><p>æˆ‘ä¸å–œæ¬¢å•¥éƒ½ä¸è¯´ï¼Œè™½ç„¶talk is cheapï¼Œshow me the codeã€‚ä½†æ˜¯æŠŠè¦ç‚¹è¯´å‡ºæ¥ï¼Œæ›´å®¹æ˜“è®©åˆå­¦è€…æŠŠæ¡ã€‚æˆ‘å†™äº†ä¸€ä¸ªç®€å•çš„å®ç°ï¼Œè§<a href="https://github.com/nudtcat/simple_crawler/" target="_blank" rel="external">æˆ‘çš„github</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;0x01-åˆè¡·&quot;&gt;&lt;a href=&quot;#0x01-åˆè¡·&quot; class=&quot;headerlink&quot; title=&quot;0x01 åˆè¡·&quot;&gt;&lt;/a&gt;0x01 åˆè¡·&lt;/h2&gt;&lt;p&gt;æœ€è¿‘å‡†å¤‡å¼€å§‹å†™ä¸€äº›é€šç”¨çš„è‡ªåŠ¨åŒ–å·¥å…·ï¼Œä»¥å‰ä¹Ÿå†™è¿‡ä¸€äº›è‡ªåŠ¨åŒ–çš„ä¸œè¥¿ï¼Œä¸è¿‡éƒ½æ˜¯ç”¨èƒ¶æ°´æŠŠä¸€äº›ç°æˆçš„å·¥å…·ç²˜è¿èµ·æ¥è€Œå·²ã€‚è‡ªå·±å¼€å§‹å†™å·¥å…·å¹¶ä¸åªæ˜¯é€ è½®å­ï¼Œæˆ‘å¸Œæœ›æŠŠå°½è‡ªå·±æœ€å¤§çš„åŠªåŠ›ï¼Œæ¯ä¸€ä¸ªæ¨¡å—éƒ½åšåˆ°æœ€ç»†è‡´ï¼Œè§„åˆ™åšåˆ°æœ€å¥½ï¼Œæ‰€ä»¥è¿™ä¸ªprojectä¼šæŒç»­å¾ˆé•¿çš„æ—¶é—´ï¼Œè€Œä¸”æœ‰å¯èƒ½ä¼šé‡æ„å¾ˆå¤šæ¬¡ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="Python" scheme="http://blog.nudtcat.org/categories/Python/"/>
    
    
      <category term="çˆ¬è™«" scheme="http://blog.nudtcat.org/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜çš„Pythonå®ç°</title>
    <link href="http://blog.nudtcat.org/Python/%E7%94%9F%E4%BA%A7%E8%80%85%E6%B6%88%E8%B4%B9%E8%80%85%E9%97%AE%E9%A2%98%E7%9A%84Python%E5%AE%9E%E7%8E%B0/"/>
    <id>http://blog.nudtcat.org/Python/ç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜çš„Pythonå®ç°/</id>
    <published>2016-09-24T03:13:48.000Z</published>
    <updated>2016-09-28T03:12:33.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="0x00-èƒŒæ™¯çŸ¥è¯†"><a href="#0x00-èƒŒæ™¯çŸ¥è¯†" class="headerlink" title="0x00 èƒŒæ™¯çŸ¥è¯†"></a>0x00 èƒŒæ™¯çŸ¥è¯†</h2><p>ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…æ˜¯ä¸€ä¸ªå¸¸è§çš„é—®é¢˜ï¼Œå®ƒçš„æ¨¡å‹æ˜¯å¤šä¸ªç”Ÿäº§è€…åœ¨ç”Ÿäº§äº§å“ï¼ŒåŒæ—¶å¤šä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹äº§å“ï¼Œä½†æ˜¯ä»“åº“å®¹é‡æ˜¯æœ‰é™çš„ï¼Œæ‰€ä»¥å½“ä»“åº“æ»¡äº†ç”Ÿäº§è€…éœ€è¦ä¼‘çœ ï¼Œè€Œå½“ä»“åº“ç©ºäº†æ¶ˆè´¹è€…éœ€è¦å”¤é†’ç”Ÿäº§è€…ã€‚è¿™é‡Œé¢æ¶‰åŠçš„é—®é¢˜æœ‰äº’æ–¥å’ŒåŒæ­¥ã€‚</p>
<h2 id="0x01-ä¸€ç§è§£å†³æ–¹æ³•"><a href="#0x01-ä¸€ç§è§£å†³æ–¹æ³•" class="headerlink" title="0x01 ä¸€ç§è§£å†³æ–¹æ³•"></a>0x01 ä¸€ç§è§£å†³æ–¹æ³•</h2><p>å¯ä»¥ä½¿ç”¨é”æ¥è´Ÿè´£äº’æ–¥ï¼Œä½¿ç”¨threading.Conditionæ¥åšåŒæ­¥ã€‚threadingçš„å®Œæ•´ç”¨æ³•è§<a href="https://docs.python.org/2/library/threading.html" target="_blank" rel="external">å®˜æ–¹æ–‡æ¡£</a>ï¼ŒConditionçš„å®Œæ•´ç”¨æ³•è§<a href="https://docs.python.org/2/library/threading.html#condition-objects" target="_blank" rel="external">Conditionçš„æè¿°</a>ã€‚ç®€å•æ¥è¯´ï¼ŒConditionå†…ç½®äº†é”ï¼Œå½“è°ƒç”¨acquire()æ–¹æ³•æ—¶ï¼Œè‡ªåŠ¨ä¸Šé”ï¼Œrelease()é‡Šæ”¾é”ã€‚wait()æ–¹æ³•ä¼šé‡Šæ”¾é”åé˜»å¡ç¨‹åºï¼Œç›´åˆ°è¢«notify()æ–¹æ³•å”¤é†’ã€‚Talk is cheap, this is the code.<br><a id="more"></a><br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/env python</span></div><div class="line"><span class="comment"># -*- coding:utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> threading</div><div class="line"><span class="keyword">import</span> random</div><div class="line"><span class="keyword">import</span> time</div><div class="line"></div><div class="line">warehouse = []</div><div class="line">max_num = <span class="number">10</span></div><div class="line">condition = threading.Condition()</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProducerThread</span><span class="params">(threading.Thread)</span>:</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">		threading.Thread.__init__(self)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></div><div class="line">		<span class="keyword">while</span> <span class="keyword">True</span>:</div><div class="line">			condition.acquire()</div><div class="line">			<span class="keyword">if</span> len(warehouse) == max_num:</div><div class="line">				<span class="keyword">print</span> <span class="string">"Warehouse is full"</span></div><div class="line">				condition.wait()  <span class="comment"># Release the lock</span></div><div class="line">				<span class="keyword">print</span> <span class="string">"Producer is notified by consumer"</span></div><div class="line">			<span class="keyword">else</span>:</div><div class="line">				warehouse.append(<span class="number">1</span>)</div><div class="line">				<span class="keyword">print</span> <span class="string">"Producer is working, NUM: "</span> + str(len(warehouse))</div><div class="line">			condition.notify()</div><div class="line">			condition.release()</div><div class="line">			time.sleep(random.random())</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConsumerThread</span><span class="params">(threading.Thread)</span>:</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">		threading.Thread.__init__(self)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></div><div class="line">		<span class="keyword">while</span> <span class="keyword">True</span>:</div><div class="line">			condition.acquire()</div><div class="line">			<span class="keyword">if</span> len(warehouse) == <span class="number">0</span>:</div><div class="line">				<span class="keyword">print</span> <span class="string">"Warehouse is empty"</span></div><div class="line">				condition.wait()</div><div class="line">				<span class="keyword">print</span> <span class="string">"Consumer is notified by producer"</span></div><div class="line">			<span class="keyword">else</span>:</div><div class="line">				warehouse.pop()</div><div class="line">				<span class="keyword">print</span> <span class="string">"Consumer is working, NUM: "</span> + str(len(warehouse))</div><div class="line">			condition.notify()</div><div class="line">			condition.release()</div><div class="line">			time.sleep(random.random())</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</div><div class="line">	c_list = []</div><div class="line">	p_list = []</div><div class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">5</span>):</div><div class="line">		p = ProducerThread()</div><div class="line">		p_list.append(p)</div><div class="line">		p.start()</div><div class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">6</span>):</div><div class="line">		c = ConsumerThread()</div><div class="line">		c_list.append(c)</div><div class="line">		c.start()</div></pre></td></tr></table></figure></p>
<p>å¸¸è§çš„é”™è¯¯âŒä»£ç å¦‚ä¸‹ï¼Œè¿™æ˜¯æ¥è‡ªç½‘ä¸Šå…³äºè¿™ä¸ªçŸ¥è¯†ç‚¹çš„ç¤ºä¾‹ï¼ŒçœŸæ˜¯å¤©ä¸‹ä»£ç ä¸€å¤§æŠ„å•Šã€‚è‡³äºé”™è¯¯åŸå› ï¼Œè¯»è€…ä¸éš¾å‘ç°ã€‚ä¸‹é¢çš„ä»£ç ä¼šè¶…è¿‡ä»“åº“çš„æœ€å¤§å­˜å‚¨ã€‚<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/env python</span></div><div class="line"><span class="comment"># -*- coding:utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread, Condition</div><div class="line"><span class="keyword">import</span> time</div><div class="line"><span class="keyword">import</span> random</div><div class="line"></div><div class="line">queue = []</div><div class="line">MAX_NUM = <span class="number">10</span></div><div class="line">condition = Condition()</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProducerThread</span><span class="params">(Thread)</span>:</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></div><div class="line">		nums = range(<span class="number">5</span>)</div><div class="line">		<span class="keyword">global</span> queue</div><div class="line">		<span class="keyword">while</span> <span class="keyword">True</span>:</div><div class="line">			condition.acquire()</div><div class="line">			<span class="keyword">if</span> len(queue) == MAX_NUM:</div><div class="line">				<span class="keyword">print</span> <span class="string">"Queue full, producer is waiting"</span></div><div class="line">				condition.wait()</div><div class="line">				<span class="keyword">print</span> <span class="string">"Space in queue, Consumer notified the producer"</span></div><div class="line">			num = random.choice(nums)</div><div class="line">			queue.append(num)</div><div class="line">			<span class="keyword">print</span> <span class="string">"Produced"</span>, len(queue)</div><div class="line">			condition.notify()</div><div class="line">			condition.release()</div><div class="line">			time.sleep(random.random())</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConsumerThread</span><span class="params">(Thread)</span>:</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></div><div class="line">		<span class="keyword">global</span> queue</div><div class="line">		<span class="keyword">while</span> <span class="keyword">True</span>:</div><div class="line">			condition.acquire()</div><div class="line">			<span class="keyword">if</span> <span class="keyword">not</span> queue:</div><div class="line">				<span class="keyword">print</span> <span class="string">"Nothing in queue, consumer is waiting"</span></div><div class="line">				condition.wait()</div><div class="line">				<span class="keyword">print</span> <span class="string">"Producer added something to queue and notified the consumer"</span></div><div class="line">			num = queue.pop(<span class="number">0</span>)</div><div class="line">			<span class="keyword">print</span> <span class="string">"Consumed"</span>, len(queue)</div><div class="line">			condition.notify()</div><div class="line">			condition.release()</div><div class="line">			time.sleep(random.random())</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</div><div class="line">	c_list = []</div><div class="line">	p_list = []</div><div class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">5</span>):</div><div class="line">		p = ProducerThread()</div><div class="line">		p_list.append(p)</div><div class="line">		p.start()</div><div class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>):</div><div class="line">		c = ConsumerThread()</div><div class="line">		c_list.append(c)</div><div class="line">		c.start()</div></pre></td></tr></table></figure></p>
<h2 id="0x02-åŸºäºQueueçš„å®ç°"><a href="#0x02-åŸºäºQueueçš„å®ç°" class="headerlink" title="0x02 åŸºäºQueueçš„å®ç°"></a>0x02 åŸºäºQueueçš„å®ç°</h2><p>Queueæ¨¡å—å†…ç½®äº†Conditionï¼Œå¯ä»¥ä½¿ç”¨QueueåŒæ—¶æ»¡è¶³äº’æ–¥å’ŒåŒæ­¥ä¸¤ä¸ªè¦æ±‚ã€‚Queueæœ¬æ¥å°±æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œè€ŒQueueçš„task_done()æ–¹æ³•å¯ä»¥ç”¨æ¥åŒæ­¥ã€‚Queueçš„è¯¦ç»†ä½¿ç”¨è§<a href="https://docs.python.org/2/library/queue.html" target="_blank" rel="external">å®˜æ–¹æ–‡æ¡£</a>ã€‚è¿™ä¸ªå®ç°ä»£ç å¦‚ä¸‹<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/env python</span></div><div class="line"><span class="comment"># -*- coding:utf-8 -*-</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> Queue</div><div class="line"><span class="keyword">import</span> threading</div><div class="line"><span class="keyword">import</span> time</div><div class="line"><span class="keyword">import</span> random</div><div class="line"></div><div class="line">product_queue = Queue.Queue(<span class="number">10</span>)</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProducerThread</span><span class="params">(threading.Thread)</span>:</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">		threading.Thread.__init__(self)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></div><div class="line">		<span class="keyword">while</span> <span class="keyword">True</span>:</div><div class="line">			product_queue.put(<span class="number">1</span>, block=<span class="keyword">True</span>)</div><div class="line">			time.sleep(random.random())</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConsumerThread</span><span class="params">(threading.Thread)</span>:</span></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line">		threading.Thread.__init__(self)</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></div><div class="line">		<span class="keyword">while</span> <span class="keyword">True</span>:</div><div class="line">			product_queue.get(block=<span class="keyword">True</span>)</div><div class="line">			product_queue.task_done()</div><div class="line">			time.sleep(random.random())</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</div><div class="line">	c_list = []</div><div class="line">	p_list = []</div><div class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">5</span>):</div><div class="line">		p = ProducerThread()</div><div class="line">		p_list.append(p)</div><div class="line">		p.start()</div><div class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):</div><div class="line">		c = ConsumerThread()</div><div class="line">		c_list.append(c)</div><div class="line">		c.start()</div></pre></td></tr></table></figure></p>
<p>Queueä¹Ÿæ˜¯ç”¨Conditionæ¥å®ç°çš„ï¼Œæ³¨æ„:</p>
<blockquote>
<p>Note: the notify() and notifyAll() methods donâ€™t release the lock; this means that the thread or threads awakened will not return from their wait() call immediately, but only when the thread that called notify() or notifyAll() finally relinquishes ownership of the lock.</p>
</blockquote>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;0x00-èƒŒæ™¯çŸ¥è¯†&quot;&gt;&lt;a href=&quot;#0x00-èƒŒæ™¯çŸ¥è¯†&quot; class=&quot;headerlink&quot; title=&quot;0x00 èƒŒæ™¯çŸ¥è¯†&quot;&gt;&lt;/a&gt;0x00 èƒŒæ™¯çŸ¥è¯†&lt;/h2&gt;&lt;p&gt;ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…æ˜¯ä¸€ä¸ªå¸¸è§çš„é—®é¢˜ï¼Œå®ƒçš„æ¨¡å‹æ˜¯å¤šä¸ªç”Ÿäº§è€…åœ¨ç”Ÿäº§äº§å“ï¼ŒåŒæ—¶å¤šä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹äº§å“ï¼Œä½†æ˜¯ä»“åº“å®¹é‡æ˜¯æœ‰é™çš„ï¼Œæ‰€ä»¥å½“ä»“åº“æ»¡äº†ç”Ÿäº§è€…éœ€è¦ä¼‘çœ ï¼Œè€Œå½“ä»“åº“ç©ºäº†æ¶ˆè´¹è€…éœ€è¦å”¤é†’ç”Ÿäº§è€…ã€‚è¿™é‡Œé¢æ¶‰åŠçš„é—®é¢˜æœ‰äº’æ–¥å’ŒåŒæ­¥ã€‚&lt;/p&gt;
&lt;h2 id=&quot;0x01-ä¸€ç§è§£å†³æ–¹æ³•&quot;&gt;&lt;a href=&quot;#0x01-ä¸€ç§è§£å†³æ–¹æ³•&quot; class=&quot;headerlink&quot; title=&quot;0x01 ä¸€ç§è§£å†³æ–¹æ³•&quot;&gt;&lt;/a&gt;0x01 ä¸€ç§è§£å†³æ–¹æ³•&lt;/h2&gt;&lt;p&gt;å¯ä»¥ä½¿ç”¨é”æ¥è´Ÿè´£äº’æ–¥ï¼Œä½¿ç”¨threading.Conditionæ¥åšåŒæ­¥ã€‚threadingçš„å®Œæ•´ç”¨æ³•è§&lt;a href=&quot;https://docs.python.org/2/library/threading.html&quot;&gt;å®˜æ–¹æ–‡æ¡£&lt;/a&gt;ï¼ŒConditionçš„å®Œæ•´ç”¨æ³•è§&lt;a href=&quot;https://docs.python.org/2/library/threading.html#condition-objects&quot;&gt;Conditionçš„æè¿°&lt;/a&gt;ã€‚ç®€å•æ¥è¯´ï¼ŒConditionå†…ç½®äº†é”ï¼Œå½“è°ƒç”¨acquire()æ–¹æ³•æ—¶ï¼Œè‡ªåŠ¨ä¸Šé”ï¼Œrelease()é‡Šæ”¾é”ã€‚wait()æ–¹æ³•ä¼šé‡Šæ”¾é”åé˜»å¡ç¨‹åºï¼Œç›´åˆ°è¢«notify()æ–¹æ³•å”¤é†’ã€‚Talk is cheap, this is the code.&lt;br&gt;
    
    </summary>
    
      <category term="Python" scheme="http://blog.nudtcat.org/categories/Python/"/>
    
    
      <category term="Python" scheme="http://blog.nudtcat.org/tags/Python/"/>
    
      <category term="æ“ä½œç³»ç»Ÿ" scheme="http://blog.nudtcat.org/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
  <entry>
    <title>çæƒœå¤§å­¦ä»…å‰©çš„ä¸€å¹´</title>
    <link href="http://blog.nudtcat.org/Chat/%E7%8F%8D%E6%83%9C%E5%A4%A7%E5%AD%A6%E4%BB%85%E5%89%A9%E7%9A%84%E4%B8%80%E5%B9%B4/"/>
    <id>http://blog.nudtcat.org/Chat/çæƒœå¤§å­¦ä»…å‰©çš„ä¸€å¹´/</id>
    <published>2016-09-23T14:15:59.000Z</published>
    <updated>2016-09-28T03:12:57.000Z</updated>
    
    <content type="html"><![CDATA[<p>çæƒœæœ€åä¸€å¹´çš„å¤§å­¦ç”Ÿæ´»</p>
<ul>
<li>å†™ä¸€ç¯‡ä¼˜ç§€çš„æ¯•ä¸šè®ºæ–‡</li>
<li>åœ¨å¤§é›¨å¤©è·‘ä¸€æ¬¡æ­¥</li>
<li>æ„Ÿå—æ•™å­¦æ¥¼ï¼Œå›¾ä¹¦é¦†ï¼Œè¯»å‡ æœ¬ä¹¦</li>
<li>æ¯•ä¸šæ—…è¡Œ</li>
<li>æ¥ä¸€æ¬¡å†’é™©(éª‘è¡Œ||å¾’æ­¥)<a id="more"></a>
</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;çæƒœæœ€åä¸€å¹´çš„å¤§å­¦ç”Ÿæ´»&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å†™ä¸€ç¯‡ä¼˜ç§€çš„æ¯•ä¸šè®ºæ–‡&lt;/li&gt;
&lt;li&gt;åœ¨å¤§é›¨å¤©è·‘ä¸€æ¬¡æ­¥&lt;/li&gt;
&lt;li&gt;æ„Ÿå—æ•™å­¦æ¥¼ï¼Œå›¾ä¹¦é¦†ï¼Œè¯»å‡ æœ¬ä¹¦&lt;/li&gt;
&lt;li&gt;æ¯•ä¸šæ—…è¡Œ&lt;/li&gt;
&lt;li&gt;æ¥ä¸€æ¬¡å†’é™©(éª‘è¡Œ||å¾’æ­¥)
    
    </summary>
    
      <category term="æ‚è°ˆ" scheme="http://blog.nudtcat.org/categories/Chat/"/>
    
    
      <category term="å¤§å­¦ç”Ÿæ´»" scheme="http://blog.nudtcat.org/tags/%E5%A4%A7%E5%AD%A6%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
</feed>
